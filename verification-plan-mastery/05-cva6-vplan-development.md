# CVA6éªŒè¯è®¡åˆ’åˆ¶å®šå®æˆ˜æŒ‡å—

åŸºäºCV32E40PæˆåŠŸç»éªŒï¼Œæœ¬ç« æä¾›CVA6 64ä½RISC-Væ ¸å¿ƒéªŒè¯è®¡åˆ’åˆ¶å®šçš„å®Œæ•´å®æˆ˜æŒ‡å—ï¼ŒåŒ…æ‹¬32ä½åˆ°64ä½çš„é€‚é…ç­–ç•¥ã€æ¶æ„å·®å¼‚åˆ†æå’Œå®é™…åˆ¶å®šæµç¨‹ã€‚

## ğŸ¯ CVA6é¡¹ç›®éªŒè¯æŒ‘æˆ˜æ¦‚è§ˆ

### CVA6 vs CV32E40P å…³é”®å·®å¼‚

```mermaid
graph TB
    A[CV32E40P<br/>32ä½åº”ç”¨å¤„ç†å™¨] --> B[æˆç†ŸéªŒè¯ç»éªŒ]
    C[CVA6<br/>64ä½åº”ç”¨å¤„ç†å™¨] --> D[æ–°éªŒè¯æŒ‘æˆ˜]

    B --> E[18ä¸ªExceléªŒè¯è®¡åˆ’]
    B --> F[4é˜¶æ®µå·¥ä½œæµç¨‹]
    B --> G[GitHub Issueæµç¨‹]

    D --> H[64ä½æ¶æ„å¤æ‚æ€§]
    D --> I[MMUè™šæ‹Ÿå†…å­˜]
    D --> J[Supervisoræ¨¡å¼]
    D --> K[æ›´å¤šæ‰©å±•æŒ‡ä»¤]

    E --> L[å¯å¤ç”¨æ¨¡æ¿åŸºç¡€]
    F --> L
    G --> L
    L --> M[CVA6éªŒè¯è®¡åˆ’å¼€å‘]
    H --> M
    I --> M
    J --> M
    K --> M
```

## ğŸ—ï¸ CVA6æ¶æ„å¤æ‚æ€§åˆ†æ

### 1. æŒ‡ä»¤é›†æ¶æ„å·®å¼‚

**CV32E40P (32ä½) vs CVA6 (64ä½) å¯¹æ¯”ï¼š**

| åŠŸèƒ½é¢†åŸŸ | CV32E40P | CVA6 | éªŒè¯å¤æ‚åº¦å˜åŒ– |
|----------|----------|------|----------------|
| **åŸºç¡€æŒ‡ä»¤é›†** | RV32I | RV64I | â¬†ï¸ +100% (64ä½æ“ä½œ) |
| **æ•´æ•°ä¹˜é™¤** | RV32M | RV64M | â¬†ï¸ +80% (64ä½ä¹˜é™¤) |
| **åŸå­æ“ä½œ** | - | RV64A | â• å…¨æ–°éªŒè¯é¢†åŸŸ |
| **æµ®ç‚¹è¿ç®—** | - | RV64F/D | â• å…¨æ–°éªŒè¯é¢†åŸŸ |
| **å‹ç¼©æŒ‡ä»¤** | RV32C | RV64C | â¬†ï¸ +60% (64ä½å‹ç¼©) |
| **ç‰¹æƒæ¨¡å¼** | M-Mode | M/S/U-Mode | â• è™šæ‹ŸåŒ–å’Œç‰¹æƒåˆ‡æ¢ |
| **å†…å­˜ç®¡ç†** | ç‰©ç†åœ°å€ | MMU + è™šæ‹Ÿåœ°å€ | â• å…¨æ–°å¤æ‚éªŒè¯ |

### 2. ç³»ç»Ÿçº§åŠŸèƒ½æ‰©å±•

**CVA6æ–°å¢çš„ç³»ç»Ÿçº§ç‰¹æ€§ï¼š**

```
CVA6ç³»ç»Ÿçº§åŠŸèƒ½æ ‘ï¼š
â”œâ”€â”€ ç‰¹æƒæ¨¡å¼ç®¡ç†
â”‚   â”œâ”€â”€ Machine Mode (M-Mode)
â”‚   â”œâ”€â”€ Supervisor Mode (S-Mode) â­æ–°å¢
â”‚   â”œâ”€â”€ User Mode (U-Mode) â­æ–°å¢
â”‚   â””â”€â”€ ç‰¹æƒçº§åˆ‡æ¢éªŒè¯
â”œâ”€â”€ å†…å­˜ç®¡ç†å•å…ƒ (MMU) â­å…¨æ–°
â”‚   â”œâ”€â”€ Sv39é¡µè¡¨æœºåˆ¶
â”‚   â”œâ”€â”€ TLB (Translation Lookaside Buffer)
â”‚   â”œâ”€â”€ è™šæ‹Ÿåœ°å€ç¿»è¯‘
â”‚   â””â”€â”€ é¡µé¢ä¿æŠ¤å’Œæƒé™
â”œâ”€â”€ ç¼“å­˜ç³»ç»Ÿ â­æ–°å¢
â”‚   â”œâ”€â”€ æŒ‡ä»¤ç¼“å­˜ (I-Cache)
â”‚   â”œâ”€â”€ æ•°æ®ç¼“å­˜ (D-Cache)
â”‚   â”œâ”€â”€ ç¼“å­˜ä¸€è‡´æ€§
â”‚   â””â”€â”€ ç¼“å­˜åˆ·æ–°å’Œæ— æ•ˆ
â”œâ”€â”€ é«˜çº§ä¸­æ–­ç³»ç»Ÿ
â”‚   â”œâ”€â”€ å¹³å°çº§ä¸­æ–­æ§åˆ¶å™¨ (PLIC)
â”‚   â”œâ”€â”€ æ ¸å¿ƒæœ¬åœ°ä¸­æ–­å™¨ (CLINT)
â”‚   â””â”€â”€ é«˜çº§ä¸­æ–­è·¯ç”±
â””â”€â”€ æ€§èƒ½ç›‘æ§
    â”œâ”€â”€ ç¡¬ä»¶æ€§èƒ½è®¡æ•°å™¨
    â”œâ”€â”€ æ€§èƒ½äº‹ä»¶è·Ÿè¸ª
    â””â”€â”€ è°ƒè¯•å’Œåˆ†ææ”¯æŒ
```

## ğŸ“‹ CVA6éªŒè¯è®¡åˆ’åˆ¶å®šç­–ç•¥

### Phase 1: CV32E40Pç»éªŒåˆ†æä¸å¤ç”¨è¯„ä¼°

**Step 1: ç»éªŒèµ„äº§ç›˜ç‚¹**

åŸºäºCV32E40PéªŒè¯è®¡åˆ’èµ„äº§ï¼Œåˆ¶å®šå¤ç”¨ç­–ç•¥ï¼š

```
CV32E40PéªŒè¯è®¡åˆ’å¤ç”¨è¯„ä¼°ï¼š
â”œâ”€â”€ ç›´æ¥å¤ç”¨ (90%+ç›¸ä¼¼åº¦)
â”‚   â”œâ”€â”€ åŸºç¡€RV32I â†’ RV64I (éœ€è¦æ‰©å±•åˆ°64ä½)
â”‚   â”œâ”€â”€ ä¸­æ–­ç³»ç»Ÿ â†’ æ‰©å±•ä¸­æ–­ç³»ç»Ÿ
â”‚   â”œâ”€â”€ è°ƒè¯•æ¥å£ â†’ åŸºæœ¬è°ƒè¯•åŠŸèƒ½
â”‚   â””â”€â”€ CSRå¯„å­˜å™¨ â†’ åŸºç¡€CSRéƒ¨åˆ†
â”œâ”€â”€ é€‚é…å¤ç”¨ (50-90%ç›¸ä¼¼åº¦)
â”‚   â”œâ”€â”€ OBIæ€»çº¿ â†’ AXI/å…¶ä»–æ€»çº¿æ¥å£
â”‚   â”œâ”€â”€ æµæ°´çº¿ â†’ CVA6æµæ°´çº¿æ¶æ„
â”‚   â”œâ”€â”€ å¼‚å¸¸å¤„ç† â†’ æ‰©å±•å¼‚å¸¸å’Œç‰¹æƒæ¨¡å¼
â”‚   â””â”€â”€ æ€§èƒ½è®¡æ•°å™¨ â†’ æ‰©å±•æ€§èƒ½ç›‘æ§
â”œâ”€â”€ å‚è€ƒè®¾è®¡ (30-50%ç›¸ä¼¼åº¦)
â”‚   â”œâ”€â”€ Xpulpæ‰©å±• â†’ CVA6ä¸“ç”¨æ‰©å±•
â”‚   â”œâ”€â”€ ç¡çœ æ¨¡å¼ â†’ ç”µæºç®¡ç†
â”‚   â””â”€â”€ ä¸“ç”¨ä¼˜åŒ– â†’ CVA6ç‰¹å®šä¼˜åŒ–
â””â”€â”€ å…¨æ–°å¼€å‘ (<30%ç›¸ä¼¼åº¦)
    â”œâ”€â”€ MMUè™šæ‹Ÿå†…å­˜ç®¡ç† â­
    â”œâ”€â”€ ç¼“å­˜ç³»ç»ŸéªŒè¯ â­
    â”œâ”€â”€ åŸå­æ“ä½œæŒ‡ä»¤ â­
    â”œâ”€â”€ æµ®ç‚¹è¿ç®—å•å…ƒ â­
    â”œâ”€â”€ Supervisoræ¨¡å¼ â­
    â””â”€â”€ è™šæ‹ŸåŒ–æ”¯æŒ â­
```

### Phase 2: CVA6éªŒè¯è®¡åˆ’æ¶æ„è®¾è®¡

**CVA6éªŒè¯è®¡åˆ’æ–‡æ¡£æ¶æ„ï¼š**

æ ¹æ®å¤æ‚åº¦åˆ†æï¼Œå»ºè®®çš„Excelæ–‡æ¡£ç»“æ„ï¼š

```
æ¨èçš„CVA6éªŒè¯è®¡åˆ’æ–‡æ¡£é›†åˆï¼š
â”œâ”€â”€ 01_æ ¸å¿ƒæŒ‡ä»¤é›†éªŒè¯
â”‚   â”œâ”€â”€ CVA6_RV64I_VerifPlan.xlsx (åŸºäºCV32E40P_Ié€‚é…)
â”‚   â”œâ”€â”€ CVA6_RV64M_VerifPlan.xlsx (åŸºäºCV32E40P_Mæ‰©å±•)
â”‚   â”œâ”€â”€ CVA6_RV64A_VerifPlan.xlsx (å…¨æ–°ï¼šåŸå­æ“ä½œ)
â”‚   â”œâ”€â”€ CVA6_RV64F_VerifPlan.xlsx (å…¨æ–°ï¼šå•ç²¾åº¦æµ®ç‚¹)
â”‚   â”œâ”€â”€ CVA6_RV64D_VerifPlan.xlsx (å…¨æ–°ï¼šåŒç²¾åº¦æµ®ç‚¹)
â”‚   â””â”€â”€ CVA6_RV64C_VerifPlan.xlsx (åŸºäºCV32E40P_Cé€‚é…)
â”œâ”€â”€ 02_ç³»ç»Ÿçº§åŠŸèƒ½éªŒè¯
â”‚   â”œâ”€â”€ CVA6_PrivilegedISA_VerifPlan.xlsx (å…¨æ–°ï¼šç‰¹æƒæŒ‡ä»¤é›†)
â”‚   â”œâ”€â”€ CVA6_MMU_VerifPlan.xlsx (å…¨æ–°ï¼šå†…å­˜ç®¡ç†å•å…ƒ)
â”‚   â”œâ”€â”€ CVA6_Cache_VerifPlan.xlsx (å…¨æ–°ï¼šç¼“å­˜ç³»ç»Ÿ)
â”‚   â”œâ”€â”€ CVA6_Interrupts_VerifPlan.xlsx (åŸºäºCV32E40Pé€‚é…)
â”‚   â””â”€â”€ CVA6_CSR_VerifPlan.xlsx (åŸºäºCV32E40På¤§å¹…æ‰©å±•)
â”œâ”€â”€ 03_å¾®æ¶æ„åŠŸèƒ½éªŒè¯
â”‚   â”œâ”€â”€ CVA6_Pipeline_VerifPlan.xlsx (åŸºäºCV32E40På‚è€ƒè®¾è®¡)
â”‚   â”œâ”€â”€ CVA6_BusInterface_VerifPlan.xlsx (åŸºäºOBIé€‚é…åˆ°AXI)
â”‚   â”œâ”€â”€ CVA6_Debug_VerifPlan.xlsx (åŸºäºCV32E40Pé€‚é…)
â”‚   â””â”€â”€ CVA6_Performance_VerifPlan.xlsx (åŸºäºCV32E40Pæ‰©å±•)
â””â”€â”€ 04_ç³»ç»Ÿé›†æˆéªŒè¯
    â”œâ”€â”€ CVA6_SystemIntegration_VerifPlan.xlsx (å…¨æ–°)
    â”œâ”€â”€ CVA6_PowerManagement_VerifPlan.xlsx (å…¨æ–°)
    â””â”€â”€ CVA6_Compliance_VerifPlan.xlsx (åŸºäºCV32E40Pæ‰©å±•)
```

## ğŸ”§ å®é™…åˆ¶å®šæµç¨‹ï¼šä»¥CVA6_MMUä¸ºä¾‹

### Step 1: éœ€æ±‚åˆ†æå’ŒåŠŸèƒ½åˆ†è§£

**MMUåŠŸèƒ½åˆ†è§£ï¼ˆCVA6å…¨æ–°åŠŸèƒ½ï¼‰ï¼š**

æ ¹æ®RISC-Vç‰¹æƒè§„èŒƒå’ŒCVA6è®¾è®¡æ–‡æ¡£ï¼š

| Requirement Location | Feature | Sub-Feature | Verification Goals |
|---------------------|---------|-------------|-------------------|
| RISC-V Priv Spec 4.3.1 | Sv39 Page Table | Page Table Walk | â€¢ Verify 3-level page walk<br/>â€¢ Verify PTE format parsing<br/>â€¢ Verify address translation |
| RISC-V Priv Spec 4.3.1 | Sv39 Page Table | TLB Management | â€¢ Verify TLB hit/miss behavior<br/>â€¢ Verify TLB replacement policy<br/>â€¢ Verify SFENCE.VMA operation |
| RISC-V Priv Spec 4.3.2 | Memory Protection | Page Permissions | â€¢ Verify R/W/X permission checks<br/>â€¢ Verify User/Supervisor access<br/>â€¢ Verify access fault generation |
| RISC-V Priv Spec 4.4.1 | Address Translation | Virtual Address | â€¢ Verify 39-bit VA translation<br/>â€¢ Verify address space layout<br/>â€¢ Verify canonical address check |
| CVA6 Spec Ch 3.2 | MMU Implementation | PTW (Page Table Walker) | â€¢ Verify hardware page walker<br/>â€¢ Verify PTW state machine<br/>â€¢ Verify PTW cache interaction |

### Step 2: éªŒè¯ç›®æ ‡è¯¦ç»†åŒ–

**MMUéªŒè¯ç›®æ ‡çš„Pass/Fail Criteriaè®¾è®¡ï¼š**

```
MMUéªŒè¯ç›®æ ‡ç¤ºä¾‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Feature         â”‚ Verification    â”‚ Pass/Fail       â”‚ Coverage        â”‚
â”‚                 â”‚ Goals           â”‚ Criteria        â”‚ Method          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Address         â”‚ 39-bit VA to    â”‚ Self-checking   â”‚ Functional      â”‚
â”‚ Translation     â”‚ 56-bit PA       â”‚ with reference  â”‚ Coverage:       â”‚
â”‚                 â”‚ translation     â”‚ model           â”‚ - All VA ranges â”‚
â”‚                 â”‚ correctness     â”‚                 â”‚ - Page sizes    â”‚
â”‚                 â”‚                 â”‚                 â”‚ - Permission    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TLB Hit/Miss    â”‚ TLB lookup      â”‚ Assertion       â”‚ Code Coverage:  â”‚
â”‚ Behavior        â”‚ behavior        â”‚ checking +      â”‚ - TLB state     â”‚
â”‚                 â”‚ verification    â”‚ Signature check â”‚ - Cache lines   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Page Fault      â”‚ Correct fault   â”‚ Exception       â”‚ Functional      â”‚
â”‚ Generation      â”‚ generation for  â”‚ handler verify  â”‚ Coverage:       â”‚
â”‚                 â”‚ invalid access  â”‚                 â”‚ - Fault types   â”‚
â”‚                 â”‚                 â”‚                 â”‚ - Error codes   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 3: è¦†ç›–ç‡æ¨¡å‹è®¾è®¡

**CVA6 MMUåŠŸèƒ½è¦†ç›–ç‡è®¾è®¡ï¼š**

```systemverilog
// CVA6 MMU Coverage Model ç¤ºä¾‹
covergroup mmu_translation_cg;
  // Virtual Address Coverage
  cp_va_range: coverpoint virtual_addr[38:30] {
    bins low_range = {[0:127]};
    bins mid_range = {[128:383]};
    bins high_range = {[384:511]};
  }

  // Page Size Coverage
  cp_page_size: coverpoint page_size {
    bins page_4k = {PAGE_4KB};
    bins page_2m = {PAGE_2MB};
    bins page_1g = {PAGE_1GB};
  }

  // Permission Coverage
  cp_permissions: coverpoint {pte.r, pte.w, pte.x} {
    bins read_only = {3'b100};
    bins read_write = {3'b110};
    bins read_execute = {3'b101};
    bins read_write_execute = {3'b111};
    illegal_bins invalid = {3'b000, 3'b001, 3'b010, 3'b011};
  }

  // Privilege Mode Coverage
  cp_privilege: coverpoint current_mode {
    bins machine = {M_MODE};
    bins supervisor = {S_MODE};
    bins user = {U_MODE};
  }

  // TLB State Coverage
  cp_tlb_state: coverpoint tlb_hit {
    bins hit = {1};
    bins miss = {0};
  }

  // Cross Coverage - Critical Combinations
  cross_access_scenario: cross cp_permissions, cp_privilege, cp_tlb_state {
    // æ’é™¤æ— æ•ˆç»„åˆ
    ignore_bins invalid_machine = cross_access_scenario with
      (cp_privilege == M_MODE && cp_permissions == 3'b000);
  }

  cross_translation_complexity: cross cp_va_range, cp_page_size, cp_tlb_state;
endgroup
```

## ğŸ“Š CVA6éªŒè¯è®¡åˆ’å®æ–½roadmap

### Phase 1: åŸºç¡€æ¶æ„éªŒè¯ (3-4ä¸ªæœˆ)

```
Month 1-2: æ ¸å¿ƒæŒ‡ä»¤é›†éªŒè¯è®¡åˆ’
â”œâ”€â”€ Week 1-2: RV64IåŸºç¡€æŒ‡ä»¤é€‚é… (åŸºäºCV32E40P_I)
â”‚   â”œâ”€â”€ å¤ç”¨CV32E40P_I_VerifPlan.xlsxåŸºç¡€ç»“æ„
â”‚   â”œâ”€â”€ æ‰©å±•32ä½æ“ä½œåˆ°64ä½æ“ä½œ
â”‚   â”œâ”€â”€ æ·»åŠ 64ä½ç«‹å³æ•°å¤„ç†
â”‚   â””â”€â”€ æ›´æ–°è¦†ç›–ç‡æ¨¡å‹ä¸º64ä½
â”œâ”€â”€ Week 3-4: RV64Mä¹˜é™¤æ³•æ‰©å±• (åŸºäºCV32E40P_M)
â”‚   â”œâ”€â”€ é€‚é…32ä½ä¹˜é™¤åˆ°64ä½ä¹˜é™¤
â”‚   â”œâ”€â”€ æ·»åŠ 64ä½ä¹˜æ³•ç»“æœå¤„ç†
â”‚   â”œâ”€â”€ æ‰©å±•é™¤æ³•å¼‚å¸¸æƒ…å†µ
â”‚   â””â”€â”€ æ›´æ–°æ€§èƒ½æµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ Week 5-6: RV64Cå‹ç¼©æŒ‡ä»¤é€‚é… (åŸºäºCV32E40P_C)
â”‚   â”œâ”€â”€ å¤ç”¨å‹ç¼©æŒ‡ä»¤åŸºç¡€æ¡†æ¶
â”‚   â”œâ”€â”€ æ·»åŠ 64ä½å‹ç¼©æŒ‡ä»¤ç¼–ç 
â”‚   â”œâ”€â”€ éªŒè¯å‹ç¼©æŒ‡ä»¤æ‰©å±•æ­£ç¡®æ€§
â”‚   â””â”€â”€ æ›´æ–°æŒ‡ä»¤å¯¹é½æ£€æŸ¥
â”œâ”€â”€ Week 7-8: æ–°å¢åŸå­æ“ä½œ RV64A (å…¨æ–°å¼€å‘)
â”‚   â”œâ”€â”€ åˆ¶å®šåŸå­æ“ä½œéªŒè¯è®¡åˆ’
â”‚   â”œâ”€â”€ è®¾è®¡åŸå­æ“ä½œè¦†ç›–ç‡æ¨¡å‹
â”‚   â”œâ”€â”€ å¼€å‘åŸå­æ“ä½œæµ‹è¯•åœºæ™¯
â”‚   â””â”€â”€ é›†æˆåˆ°éªŒè¯ç¯å¢ƒ

Month 3-4: ç³»ç»Ÿçº§åŠŸèƒ½éªŒè¯è®¡åˆ’
â”œâ”€â”€ Week 9-10: ç‰¹æƒæ¨¡å¼éªŒè¯è®¡åˆ’ (å…¨æ–°å¼€å‘)
â”‚   â”œâ”€â”€ M/S/Uæ¨¡å¼åˆ‡æ¢éªŒè¯
â”‚   â”œâ”€â”€ ç‰¹æƒæŒ‡ä»¤è®¿é—®æ§åˆ¶
â”‚   â”œâ”€â”€ å¼‚å¸¸å’Œä¸­æ–­å¤„ç†æ‰©å±•
â”‚   â””â”€â”€ CSRå¯„å­˜å™¨æƒé™éªŒè¯
â”œâ”€â”€ Week 11-12: MMUéªŒè¯è®¡åˆ’ (å…¨æ–°å¼€å‘)
â”‚   â”œâ”€â”€ Sv39é¡µè¡¨æœºåˆ¶éªŒè¯
â”‚   â”œâ”€â”€ TLBç®¡ç†éªŒè¯
â”‚   â”œâ”€â”€ è™šæ‹Ÿåœ°å€ç¿»è¯‘éªŒè¯
â”‚   â””â”€â”€ å†…å­˜ä¿æŠ¤éªŒè¯
â”œâ”€â”€ Week 13-14: ä¸­æ–­ç³»ç»Ÿæ‰©å±• (åŸºäºCV32E40Pé€‚é…)
â”‚   â”œâ”€â”€ å¤ç”¨CV32E40Pä¸­æ–­åŸºç¡€
â”‚   â”œâ”€â”€ æ·»åŠ Supervisoræ¨¡å¼ä¸­æ–­
â”‚   â”œâ”€â”€ æ‰©å±•PLICæ”¯æŒ
â”‚   â””â”€â”€ æ›´æ–°ä¸­æ–­ä¼˜å…ˆçº§å¤„ç†
â””â”€â”€ Week 15-16: æµ®ç‚¹å•å…ƒéªŒè¯è®¡åˆ’ (å…¨æ–°å¼€å‘)
    â”œâ”€â”€ RV64Få•ç²¾åº¦æµ®ç‚¹éªŒè¯
    â”œâ”€â”€ RV64DåŒç²¾åº¦æµ®ç‚¹éªŒè¯
    â”œâ”€â”€ æµ®ç‚¹å¼‚å¸¸å¤„ç†éªŒè¯
    â””â”€â”€ æµ®ç‚¹CSRå¯„å­˜å™¨éªŒè¯
```

### Phase 2: å¾®æ¶æ„å’Œç³»ç»Ÿé›†æˆéªŒè¯ (2-3ä¸ªæœˆ)

```
Month 5-6: å¾®æ¶æ„éªŒè¯è®¡åˆ’
â”œâ”€â”€ Week 17-18: CVA6æµæ°´çº¿éªŒè¯ (åŸºäºCV32E40På‚è€ƒ)
â”‚   â”œâ”€â”€ é€‚é…CVA6 6çº§æµæ°´çº¿
â”‚   â”œâ”€â”€ åˆ†æ”¯é¢„æµ‹éªŒè¯
â”‚   â”œâ”€â”€ æµæ°´çº¿å†²çªå¤„ç†
â”‚   â””â”€â”€ æ€§èƒ½è®¡æ•°å™¨é›†æˆ
â”œâ”€â”€ Week 19-20: ç¼“å­˜ç³»ç»ŸéªŒè¯ (å…¨æ–°å¼€å‘)
â”‚   â”œâ”€â”€ I-CacheéªŒè¯è®¡åˆ’
â”‚   â”œâ”€â”€ D-CacheéªŒè¯è®¡åˆ’
â”‚   â”œâ”€â”€ ç¼“å­˜ä¸€è‡´æ€§éªŒè¯
â”‚   â””â”€â”€ ç¼“å­˜æ€§èƒ½éªŒè¯
â”œâ”€â”€ Week 21-22: æ€»çº¿æ¥å£éªŒè¯ (åŸºäºOBIé€‚é…)
â”‚   â”œâ”€â”€ ä»OBIé€‚é…åˆ°AXIåè®®
â”‚   â”œâ”€â”€ æ€»çº¿äº‹åŠ¡éªŒè¯
â”‚   â”œâ”€â”€ å†…å­˜è®¿é—®ä¼˜åŒ–éªŒè¯
â”‚   â””â”€â”€ æ€»çº¿é”™è¯¯å¤„ç†
â””â”€â”€ Week 23-24: è°ƒè¯•ç³»ç»ŸéªŒè¯ (åŸºäºCV32E40Pé€‚é…)
    â”œâ”€â”€ å¤ç”¨åŸºç¡€è°ƒè¯•åŠŸèƒ½
    â”œâ”€â”€ æ·»åŠ 64ä½è°ƒè¯•æ”¯æŒ
    â”œâ”€â”€ æ‰©å±•æ–­ç‚¹å’Œè§‚å¯Ÿç‚¹
    â””â”€â”€ è°ƒè¯•æ€§èƒ½ä¼˜åŒ–

Month 7: ç³»ç»Ÿé›†æˆå’Œåˆè§„æ€§éªŒè¯
â”œâ”€â”€ Week 25-26: ç³»ç»Ÿé›†æˆéªŒè¯ (å…¨æ–°å¼€å‘)
â”‚   â”œâ”€â”€ å¤šæ ¸å¿ƒåä½œéªŒè¯
â”‚   â”œâ”€â”€ ç³»ç»Ÿå¯åŠ¨éªŒè¯
â”‚   â”œâ”€â”€ æ“ä½œç³»ç»Ÿæ”¯æŒéªŒè¯
â”‚   â””â”€â”€ åº”ç”¨ç¨‹åºå…¼å®¹æ€§
â”œâ”€â”€ Week 27-28: åˆè§„æ€§éªŒè¯ (åŸºäºCV32E40Pæ‰©å±•)
â”‚   â”œâ”€â”€ RISC-Væ¶æ„æµ‹è¯•é€‚é…
â”‚   â”œâ”€â”€ ç‰¹æƒè§„èŒƒåˆè§„æ€§
â”‚   â”œâ”€â”€ æµ®ç‚¹æ ‡å‡†åˆè§„æ€§
â”‚   â””â”€â”€ æ€§èƒ½åŸºå‡†æµ‹è¯•
```

## ğŸ› ï¸ CVA6éªŒè¯è®¡åˆ’å¼€å‘å·¥å…·å’Œæ–¹æ³•

### 1. Excelæ¨¡æ¿é€‚é…å·¥å…·

**ä»CV32E40Påˆ°CVA6çš„è‡ªåŠ¨åŒ–é€‚é…ï¼š**

```bash
# å»ºè®®çš„Excelå¤„ç†è„šæœ¬æ¡†æ¶
#!/bin/bash
# CVA6 Verification Plan Generator

# Step 1: å¤åˆ¶CV32E40PåŸºç¡€æ¨¡æ¿
cp cv32e40p/docs/VerifPlans/CV32E40P_*_VerifPlan.xlsx \
   cva6/docs/VerifPlans/

# Step 2: æ‰¹é‡é‡å‘½å
cd cva6/docs/VerifPlans/
for file in CV32E40P_*; do
    mv "$file" "${file/CV32E40P/CVA6}"
done

# Step 3: ä½¿ç”¨Pythonè„šæœ¬æ‰¹é‡æ›´æ–°å†…å®¹
python3 adapt_vplan_cv32e40p_to_cva6.py
```

### 2. è¦†ç›–ç‡æ¨¡å‹æ‰©å±•ç­–ç•¥

**ä»32ä½åˆ°64ä½è¦†ç›–ç‡çš„ç³»ç»ŸåŒ–æ‰©å±•ï¼š**

```systemverilog
// ç¤ºä¾‹ï¼šä»CV32E40Påˆ°CVA6çš„è¦†ç›–ç‡é€‚é…
class cva6_coverage_adapter;
  // 32ä½åˆ°64ä½çš„æ•°æ®å®½åº¦é€‚é…
  function automatic void adapt_data_width_coverage();
    // CV32E40P: 32ä½æ•°æ®è¦†ç›–ç‡
    // bins data_range[] = {[0:32'hFFFFFFFF]};

    // CVA6: 64ä½æ•°æ®è¦†ç›–ç‡
    bins data_range[] = {
      [64'h0000000000000000:64'h00000000FFFFFFFF], // ä½32ä½
      [64'h0000000100000000:64'hFFFFFFFF00000000], // é«˜32ä½
      [64'hFFFFFFFF00000000:64'hFFFFFFFFFFFFFFFF]  // å…¨èŒƒå›´
    };
  endfunction

  // åœ°å€ç©ºé—´æ‰©å±•ï¼šä»32ä½ç‰©ç†åœ°å€åˆ°39ä½è™šæ‹Ÿåœ°å€
  function automatic void adapt_address_coverage();
    // CV32E40P: 32ä½ç‰©ç†åœ°å€
    // bins addr_range[] = {[0:32'hFFFFFFFF]};

    // CVA6: 39ä½è™šæ‹Ÿåœ°å€ç©ºé—´
    bins va_user_space = {[39'h000000000:39'h0FFFFFFFF]};
    bins va_supervisor = {[39'h100000000:39'h1FFFFFFFF]};
    bins va_kernel_space = {[39'h7FC000000:39'h7FFFFFFFF]};
  endfunction
endclass
```

### 3. éªŒè¯ç¯å¢ƒè¿ç§»æŒ‡å¯¼

**UVMæµ‹è¯•ç¯å¢ƒçš„ç³»ç»ŸåŒ–è¿ç§»ï¼š**

```systemverilog
// CVA6 UVMç¯å¢ƒé€‚é…æ¡†æ¶
class cva6_testbench_adapter extends uvm_object;

  // ä»CV32E40Pç¯å¢ƒç»§æ‰¿åŸºç¡€ç»„ä»¶
  cv32e40p_instruction_monitor i_mon; // å¤ç”¨æŒ‡ä»¤ç›‘æ§
  cv32e40p_memory_interface mem_if;   // é€‚é…å†…å­˜æ¥å£

  // CVA6ç‰¹æœ‰ç»„ä»¶
  cva6_mmu_monitor mmu_mon;          // æ–°å¢MMUç›‘æ§
  cva6_cache_monitor cache_mon;      // æ–°å¢ç¼“å­˜ç›‘æ§
  cva6_privilege_monitor priv_mon;   // æ–°å¢ç‰¹æƒæ¨¡å¼ç›‘æ§

  function void build_phase(uvm_phase phase);
    // å¤ç”¨CV32E40Pæˆç†Ÿç»„ä»¶
    i_mon = cv32e40p_instruction_monitor::type_id::create("i_mon");

    // é€‚é…å†…å­˜æ¥å£åˆ°64ä½
    mem_if = cv32e40p_memory_interface::type_id::create("mem_if");
    mem_if.set_data_width(64);

    // æ„å»ºCVA6ç‰¹æœ‰ç»„ä»¶
    mmu_mon = cva6_mmu_monitor::type_id::create("mmu_mon");
    cache_mon = cva6_cache_monitor::type_id::create("cache_mon");
    priv_mon = cva6_privilege_monitor::type_id::create("priv_mon");
  endfunction

endclass
```

## ğŸ“ˆ CVA6éªŒè¯è®¡åˆ’è´¨é‡ä¿è¯

### 1. å¤ç”¨è´¨é‡éªŒè¯

**ç¡®ä¿ä»CV32E40På¤ç”¨å†…å®¹çš„è´¨é‡ï¼š**

```
å¤ç”¨è´¨é‡æ£€æŸ¥æ¸…å•ï¼š
â”œâ”€â”€ åŠŸèƒ½æ˜ å°„æ­£ç¡®æ€§
â”‚   â”œâ”€â”€ âœ… 32ä½æŒ‡ä»¤æ­£ç¡®æ˜ å°„åˆ°64ä½
â”‚   â”œâ”€â”€ âœ… å¯„å­˜å™¨å®½åº¦æ­£ç¡®æ‰©å±•
â”‚   â”œâ”€â”€ âœ… ç«‹å³æ•°å¤„ç†æ­£ç¡®é€‚é…
â”‚   â””â”€â”€ âœ… å†…å­˜è®¿é—®æ¨¡å¼æ­£ç¡®æ›´æ–°
â”œâ”€â”€ è¦†ç›–ç‡æ¨¡å‹å®Œæ•´æ€§
â”‚   â”œâ”€â”€ âœ… è¾¹ç•Œæ¡ä»¶æ›´æ–°åˆ°64ä½
â”‚   â”œâ”€â”€ âœ… äº¤å‰è¦†ç›–ç‡æ­£ç¡®æ‰©å±•
â”‚   â”œâ”€â”€ âœ… å¼‚å¸¸æƒ…å†µè¦†ç›–å®Œæ•´
â”‚   â””â”€â”€ âœ… æ€§èƒ½åœºæ™¯è¦†ç›–æ›´æ–°
â”œâ”€â”€ æµ‹è¯•åœºæ™¯ç›¸å…³æ€§
â”‚   â”œâ”€â”€ âœ… CV32E40Påœºæ™¯åœ¨CVA6ä»æœ‰æ•ˆ
â”‚   â”œâ”€â”€ âœ… åˆ é™¤CVA6ä¸æ”¯æŒçš„ç‰¹æ€§
â”‚   â”œâ”€â”€ âœ… æ–°å¢CVA6ç‰¹æœ‰åœºæ™¯
â”‚   â””â”€â”€ âœ… æ›´æ–°æµ‹è¯•å‚æ•°èŒƒå›´
â””â”€â”€ æ–‡æ¡£ä¸€è‡´æ€§
    â”œâ”€â”€ âœ… æœ¯è¯­ç»Ÿä¸€æ›´æ–°ä¸ºCVA6
    â”œâ”€â”€ âœ… éœ€æ±‚å¼•ç”¨æ­£ç¡®æ›´æ–°
    â”œâ”€â”€ âœ… ç‰ˆæœ¬ä¿¡æ¯æ­£ç¡®æ ‡è®°
    â””â”€â”€ âœ… å®¡æŸ¥è®°å½•å®Œæ•´ä¿æŒ
```

### 2. æ–°å¢åŠŸèƒ½éªŒè¯è®¡åˆ’è´¨é‡

**CVA6ç‰¹æœ‰åŠŸèƒ½çš„éªŒè¯è®¡åˆ’è´¨é‡æ ‡å‡†ï¼š**

| è´¨é‡ç»´åº¦ | MMUéªŒè¯è®¡åˆ’ | æµ®ç‚¹éªŒè¯è®¡åˆ’ | ç‰¹æƒæ¨¡å¼éªŒè¯ |
|----------|-------------|-------------|-------------|
| **éœ€æ±‚è¦†ç›–** | 100%è¦†ç›–Sv39è§„èŒƒ | 100%è¦†ç›–IEEE754 | 100%è¦†ç›–ç‰¹æƒè§„èŒƒ |
| **åŠŸèƒ½åˆ†è§£** | é¡µè¡¨/TLB/ä¿æŠ¤æœºåˆ¶ | F/Dæ‰©å±•/å¼‚å¸¸/CSR | M/S/Uæ¨¡å¼åˆ‡æ¢ |
| **éªŒè¯æ·±åº¦** | åœ°å€ç¿»è¯‘+æƒé™+å¼‚å¸¸ | è¿ç®—ç²¾åº¦+èˆå…¥+æ ‡å¿— | æƒé™æ£€æŸ¥+åˆ‡æ¢+å¼‚å¸¸ |
| **è¦†ç›–ç‡è®¾è®¡** | VAèŒƒå›´+é¡µå¤§å°+æƒé™ | æ“ä½œæ•°+ç»“æœ+å¼‚å¸¸ | æ¨¡å¼+æƒé™+è½¬æ¢ |
| **é›†æˆè€ƒè™‘** | ä¸ç¼“å­˜/æ€»çº¿é›†æˆ | ä¸æ•´æ•°å•å…ƒé›†æˆ | ä¸ä¸­æ–­/å¼‚å¸¸é›†æˆ |

## ğŸ¯ CVA6é¡¹ç›®æˆåŠŸæ ‡å‡†

### çŸ­æœŸç›®æ ‡ (å‰6ä¸ªæœˆ)

- âœ… **å®Œæˆ15+ä¸ªæ ¸å¿ƒéªŒè¯è®¡åˆ’** (åŸºäº18ä¸ªCV32E40Pè®¡åˆ’é€‚é…+æ–°å¢)
- âœ… **å»ºç«‹CVA6éªŒè¯ç¯å¢ƒåŸºç¡€** (UVM testbench + è¦†ç›–ç‡æ”¶é›†)
- âœ… **å®ŒæˆåŸºç¡€æŒ‡ä»¤é›†éªŒè¯** (RV64I/M/C + æ–°å¢RV64A)
- âœ… **å®ç°å…³é”®ç³»ç»ŸåŠŸèƒ½éªŒè¯** (MMU + ç‰¹æƒæ¨¡å¼)

### ä¸­æœŸç›®æ ‡ (6-12ä¸ªæœˆ)

- âœ… **å®Œæˆæ‰€æœ‰ISAæ‰©å±•éªŒè¯** (åŒ…æ‹¬æµ®ç‚¹å•å…ƒRV64F/D)
- âœ… **ç³»ç»Ÿçº§åŠŸèƒ½éªŒè¯å®Œæˆ** (ç¼“å­˜ + ä¸­æ–­ + è°ƒè¯•)
- âœ… **æ€§èƒ½å’Œåˆè§„æ€§éªŒè¯** (åŸºå‡†æµ‹è¯• + æ¶æ„æµ‹è¯•é€šè¿‡)
- âœ… **éªŒè¯ç¯å¢ƒæˆç†Ÿåº¦** (è‡ªåŠ¨åŒ–ç¨‹åº¦ + è¦†ç›–ç‡è¾¾æ ‡)

### é•¿æœŸç›®æ ‡ (12ä¸ªæœˆ+)

- âœ… **CVA6éªŒè¯è®¡åˆ’æˆä¸ºæ ‡æ†** (ä¾›å…¶ä»–64ä½RISC-Vé¡¹ç›®å¤ç”¨)
- âœ… **éªŒè¯æ–¹æ³•å­¦è´¡çŒ®** (å‘OpenHW Groupè´¡çŒ®æœ€ä½³å®è·µ)
- âœ… **å·¥å…·é“¾å’Œæµç¨‹ä¼˜åŒ–** (æå‡éªŒè¯æ•ˆç‡å’Œè´¨é‡)
- âœ… **å›¢é˜Ÿèƒ½åŠ›å»ºè®¾** (åŸ¹å…»CVA6å’Œ64ä½RISC-VéªŒè¯ä¸“å®¶)

---

**ä¸‹ä¸€æ­¥ï¼š** å­¦ä¹  [éªŒè¯è®¡åˆ’å®¡æŸ¥å’Œè¿½è¸ª](06-vplan-review-and-tracking.md)ï¼ŒæŒæ¡CVA6éªŒè¯è®¡åˆ’åœ¨é¡¹ç›®å…¨ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†å’Œä¼˜åŒ–æ–¹æ³•ã€‚