# CV32E40PéªŒè¯é¡¹ç›®åˆå­¦è€…æŒ‡å— ğŸš€

> **å†™ç»™å·²ç»èƒ½è¿è¡Œé¡¹ç›®ï¼Œä½†è¿˜æƒ³æ·±å…¥ç†è§£çš„ä½ **

## ğŸ—ºï¸ ç¬¬ä¸€éƒ¨åˆ†ï¼šé¡¹ç›®å…¨æ™¯åœ°å›¾

### ğŸ¯ è¿™ä¸ªé¡¹ç›®ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ

æƒ³è±¡ä¸€ä¸‹ä½ æ˜¯æ±½è½¦å·¥å‚çš„è´¨æ£€éƒ¨é—¨ä¸»ç®¡ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç¡®ä¿æ–°è®¾è®¡çš„æ±½è½¦å‘åŠ¨æœºå®Œå…¨æŒ‰ç…§è®¾è®¡è§„æ ¼å·¥ä½œâ€”â€”æ²¡æœ‰ä»»ä½•é”™è¯¯ã€æ€§èƒ½è¾¾æ ‡ã€å®‰å…¨å¯é ã€‚

**CV32E40PéªŒè¯é¡¹ç›®**å°±æ˜¯å¤„ç†å™¨èŠ¯ç‰‡çš„"è´¨æ£€éƒ¨é—¨"ï¼š

```
ğŸ­ æ±½è½¦å·¥å‚è´¨æ£€               â¬Œ   ğŸ”¬ å¤„ç†å™¨éªŒè¯ç¯å¢ƒ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš— æ–°è®¾è®¡çš„å‘åŠ¨æœº              â¬Œ   ğŸ’» CV32E40På¤„ç†å™¨æ ¸å¿ƒ
ğŸ“‹ è®¾è®¡å›¾çº¸å’Œè§„æ ¼              â¬Œ   ğŸ“– RISC-VæŒ‡ä»¤é›†è§„èŒƒ  
ğŸ”§ æµ‹è¯•è®¾å¤‡å’Œå·¥å…·              â¬Œ   ğŸ› ï¸  UVMæµ‹è¯•å°å’Œä»¿çœŸå™¨
ğŸ“Š æ ‡å‡†æ€§èƒ½å‚è€ƒ                â¬Œ   ğŸ¯ OVPå‚è€ƒæ¨¡å‹
ğŸ‘¨â€ğŸ”¬ è´¨æ£€å·¥ç¨‹å¸ˆ                  â¬Œ   ğŸ‘©â€ğŸ’» éªŒè¯å·¥ç¨‹å¸ˆ
ğŸ“ˆ æµ‹è¯•æŠ¥å‘Š                   â¬Œ   ğŸ“ ä»¿çœŸç»“æœå’Œè¦†ç›–ç‡
```

### ğŸŒŸ ä¸ºä»€ä¹ˆè¿™ä»¶äº‹å¦‚æ­¤é‡è¦ï¼Ÿ

#### å¤„ç†å™¨èŠ¯ç‰‡çš„ç‰¹æ®Šæ€§ï¼š
- **ä¸å¯æ’¤é”€**ï¼šä¸€æ—¦æµç‰‡ç”Ÿäº§ï¼Œç¡¬ä»¶é”™è¯¯å‡ ä¹æ— æ³•ä¿®å¤
- **å½±å“å·¨å¤§**ï¼šä¸€ä¸ªbugå¯èƒ½å½±å“æ•°ç™¾ä¸‡è®¾å¤‡  
- **æˆæœ¬é«˜æ˜‚**ï¼šé‡æ–°æµç‰‡æˆæœ¬å¯è¾¾æ•°ç™¾ä¸‡ç¾å…ƒ
- **å‘¨æœŸæ¼«é•¿**ï¼šä»è®¾è®¡åˆ°é‡äº§éœ€è¦2-3å¹´æ—¶é—´

#### ä¼ ç»Ÿæ–¹æ³•çš„å±€é™ï¼š
```
ä¼ ç»Ÿç¡¬ä»¶éªŒè¯ âŒ               vs    ç°ä»£UVMéªŒè¯ âœ…
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æ‰‹å†™æµ‹è¯•ç”¨ä¾‹                        è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ
ä½è¦†ç›–ç‡ (~60%)                     é«˜è¦†ç›–ç‡ (>95%)
éš¾ä»¥å¤ç°é—®é¢˜                        å®Œæ•´çš„è°ƒè¯•ç¯å¢ƒ
ç¼ºä¹æ ‡å‡†åŒ–                          ç»Ÿä¸€çš„æ–¹æ³•å­¦
æ•ˆç‡ä½ä¸‹                           å¹¶è¡Œä»¿çœŸä¼˜åŒ–
```

### ğŸ—ï¸ é¡¹ç›®ç”Ÿæ€ç³»ç»Ÿå…¨æ™¯å›¾

```
                    CV32E40PéªŒè¯ç”Ÿæ€ç³»ç»Ÿ
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    ğŸ¯ ç›®æ ‡                          â”‚
    â”‚          éªŒè¯CV32E40På¤„ç†å™¨åŠŸèƒ½æ­£ç¡®æ€§                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚               â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ğŸ­ æµ‹è¯•ç¯å¢ƒ   â”‚ â”‚ ğŸ“š è§„èŒƒ  â”‚ â”‚   ğŸ”§ å·¥å…·é“¾     â”‚
    â”‚   (UVMå°)     â”‚ â”‚(RISC-V) â”‚ â”‚  (Make+GCC)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 ğŸ¬ æµ‹è¯•æ‰§è¡Œ                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
    â”‚  â”‚ ğŸ¯ DUT  â”‚â—„â”€â”€â–ºâ”‚ ğŸ† ISS  â”‚â—„â”€â”€â–ºâ”‚ ğŸ“Š ç›‘æ§ â”‚      â”‚
    â”‚  â”‚(CV32E40P)â”‚    â”‚ (OVP)   â”‚    â”‚ (UVM)  â”‚      â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ğŸ“ˆ éªŒè¯ç»“æœ   â”‚
                    â”‚ â€¢ åŠŸèƒ½è¦†ç›–ç‡   â”‚
                    â”‚ â€¢ ä»£ç è¦†ç›–ç‡   â”‚
                    â”‚ â€¢ æ–­è¨€æ£€æŸ¥    â”‚
                    â”‚ â€¢ æ€§èƒ½åˆ†æ    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ­ ä¸»è¦è§’è‰²ä»‹ç»

#### 1. **CV32E40På¤„ç†å™¨** - ä¸»è§’ ğŸ­
```
èº«ä»½ï¼š32ä½RISC-Vå¤„ç†å™¨æ ¸å¿ƒ
ç‰¹ç‚¹ï¼šå¼€æºã€ä½åŠŸè€—ã€é€‚åˆåµŒå…¥å¼åº”ç”¨
æŒ‘æˆ˜ï¼šéœ€è¦è¯æ˜è‡ªå·±å®Œå…¨ç¬¦åˆRISC-Vè§„èŒƒ
```

#### 2. **OVPå‚è€ƒæ¨¡å‹** - æ ‡å‡†ç­”æ¡ˆ ğŸ†  
```
èº«ä»½ï¼šè½¯ä»¶å®ç°çš„"é‡‘æ ‡å‡†"å¤„ç†å™¨æ¨¡å‹
ç‰¹ç‚¹ï¼šç»è¿‡ä¸¥æ ¼éªŒè¯ï¼Œè¡Œä¸ºå®Œå…¨ç¬¦åˆè§„èŒƒ
ä½œç”¨ï¼šæä¾›æ­£ç¡®ç­”æ¡ˆç”¨äºå¯¹æ¯”éªŒè¯
```

#### 3. **UVMæµ‹è¯•å°** - å¯¼æ¼” ğŸ¬
```
èº«ä»½ï¼šç»Ÿç­¹æ•´ä¸ªéªŒè¯è¿‡ç¨‹çš„æ§åˆ¶ç³»ç»Ÿ
ç‰¹ç‚¹ï¼šæ ‡å‡†åŒ–ã€å¯é‡ç”¨ã€å¯æ‰©å±•
èŒè´£ï¼šåè°ƒæ‰€æœ‰ç»„ä»¶ï¼Œç”Ÿæˆæµ‹è¯•ï¼Œæ”¶é›†ç»“æœ
```

#### 4. **å·¥å…·é“¾** - åå‹¤ä¿éšœ ğŸ”§
```
Makefileç³»ç»Ÿï¼šé¡¹ç›®ç®¡ç†å’Œæ„å»ºæ§åˆ¶
RISC-V GCCï¼šå°†Cç¨‹åºç¼–è¯‘ä¸ºæœºå™¨ç   
Cadence Xceliumï¼šæ‰§è¡ŒSystemVerilogä»¿çœŸ
å„ç§è„šæœ¬ï¼šè‡ªåŠ¨åŒ–æ—¥å¸¸æ“ä½œ
```

### ğŸ“š ä¸‰æ¡å­¦ä¹ è·¯å¾„å¯¼è§ˆ

#### è·¯å¾„Aï¼šğŸš€ **UVMéªŒè¯ä¸“å®¶** (æ¨èç”¨æ—¶ï¼š1-2å‘¨)
```
ä½ çš„èƒŒæ™¯ï¼šç†Ÿæ‚‰UVMæ–¹æ³•å­¦ï¼Œæƒ³äº†è§£RISC-Vå¤„ç†å™¨éªŒè¯
å­¦ä¹ é‡ç‚¹ï¼š
  ç¬¬1å¤©ï¼šç†è§£é¡¹ç›®æ¶æ„å’Œå·¥å…·é“¾é›†æˆ
  ç¬¬2-3å¤©ï¼šæ·±å…¥UVMæµ‹è¯•å°ç»„ä»¶è®¾è®¡  
  ç¬¬4-5å¤©ï¼šæŒæ¡step-and-compareéªŒè¯æ–¹æ³•
  ç¬¬2å‘¨ï¼šå®è·µæµ‹è¯•å¼€å‘å’Œè°ƒè¯•æŠ€å·§
æ¨èèµ·ç‚¹ï¼šç›´æ¥ä»"æ ¸å¿ƒæ¦‚å¿µä½“ç³»"å¼€å§‹
```

#### è·¯å¾„Bï¼šğŸ’» **åµŒå…¥å¼è½¯ä»¶å·¥ç¨‹å¸ˆ** (æ¨èç”¨æ—¶ï¼š2-3å‘¨)  
```
ä½ çš„èƒŒæ™¯ï¼šç†Ÿæ‚‰C/æ±‡ç¼–ç¼–ç¨‹ï¼Œæƒ³äº†è§£å¤„ç†å™¨éªŒè¯
å­¦ä¹ é‡ç‚¹ï¼š
  ç¬¬1å‘¨ï¼šç†è§£ç¡¬ä»¶éªŒè¯æ¦‚å¿µå’ŒUVMåŸºç¡€
  ç¬¬2å‘¨ï¼šå­¦ä¹ å¦‚ä½•ç¼–å†™å¤„ç†å™¨æµ‹è¯•ç¨‹åº
  ç¬¬3å‘¨ï¼šæŒæ¡è°ƒè¯•æ–¹æ³•å’Œæ€§èƒ½åˆ†æ
æ¨èèµ·ç‚¹ï¼šä»"Hello Worldæ¼”ç»ƒ"å¼€å§‹ï¼Œé€æ­¥æ·±å…¥
```

#### è·¯å¾„Cï¼šğŸ“ **ç¡¬ä»¶éªŒè¯æ–°äºº** (æ¨èç”¨æ—¶ï¼š4-6å‘¨)
```
ä½ çš„èƒŒæ™¯ï¼šåˆšæ¥è§¦ç¡¬ä»¶éªŒè¯ï¼Œéœ€è¦å…¨é¢å­¦ä¹ 
å­¦ä¹ é‡ç‚¹ï¼š
  ç¬¬1-2å‘¨ï¼šåŸºç¡€æ¦‚å¿µå’Œå·¥å…·ä½¿ç”¨
  ç¬¬3-4å‘¨ï¼šUVMæ–¹æ³•å­¦å’Œæµ‹è¯•å°æ¶æ„
  ç¬¬5-6å‘¨ï¼šå®é™…é¡¹ç›®å®è·µå’Œè¿›é˜¶æŠ€å·§
æ¨èèµ·ç‚¹ï¼šæŒ‰é¡ºåºå®Œæ•´å­¦ä¹ æœ¬æŒ‡å—æ‰€æœ‰ç« èŠ‚
```

### ğŸ¯ 15åˆ†é’Ÿå¿«é€Ÿå¯¼è§ˆ

å¦‚æœä½ åªæœ‰15åˆ†é’Ÿï¼Œæƒ³å¿«é€Ÿäº†è§£è¿™ä¸ªé¡¹ç›®çš„ç²¾é«“ï¼š

#### âš¡ 5åˆ†é’Ÿï¼šæ ¸å¿ƒç†å¿µ
- è¿™æ˜¯ä¸€ä¸ª**è‡ªåŠ¨åŒ–**çš„å¤„ç†å™¨éªŒè¯ç³»ç»Ÿ
- æ ¸å¿ƒæ–¹æ³•æ˜¯**step-and-compare**ï¼šè®©RTLå’Œå‚è€ƒæ¨¡å‹æ‰§è¡Œç›¸åŒç¨‹åºï¼Œé€æ­¥æ¯”è¾ƒç»“æœ
- **UVM**æä¾›æ ‡å‡†åŒ–çš„æµ‹è¯•å°æ¶æ„å’ŒéªŒè¯æ–¹æ³•å­¦

#### âš¡ 5åˆ†é’Ÿï¼šå…³é”®ç»„ä»¶  
- **Makefileç³»ç»Ÿ**ï¼šä¸€é”®è‡ªåŠ¨åŒ–æ„å»ºå’Œä»¿çœŸ
- **æµ‹è¯•ç¨‹åºåº“**ï¼šè¦†ç›–å„ç§åŠŸèƒ½çš„C/æ±‡ç¼–ç¨‹åº  
- **UVMæµ‹è¯•å°**ï¼šåè°ƒä»¿çœŸã€ç›‘æ§ã€æ¯”è¾ƒçš„æ§åˆ¶ä¸­å¿ƒ
- **é…ç½®ç³»ç»Ÿ**ï¼šçµæ´»é€‚é…ä¸åŒæµ‹è¯•éœ€æ±‚

#### âš¡ 5åˆ†é’Ÿï¼šå®é™…ä»·å€¼
- **å¯ä¿¡åº¦**ï¼šé€šè¿‡æœ¬é¡¹ç›®éªŒè¯çš„å¤„ç†å™¨å¯ä»¥æ”¾å¿ƒç”¨äºäº§å“
- **æ•ˆç‡**ï¼šè‡ªåŠ¨åŒ–ç¨‹åº¦é«˜ï¼Œå¯ä»¥å¿«é€Ÿå‘ç°è®¾è®¡ç¼ºé™·
- **æ ‡å‡†åŒ–**ï¼šåŸºäºå·¥ä¸šæ ‡å‡†UVMï¼Œä¾¿äºå›¢é˜Ÿåä½œ
- **å¼€æ”¾æ€§**ï¼šå®Œå…¨å¼€æºï¼Œå¯ä»¥å­¦ä¹ å’Œå®šåˆ¶

---

> ğŸ’¡ **ä¸‹ä¸€æ­¥å»ºè®®**ï¼š
> - å¦‚æœä½ æƒ³ç«‹å³åŠ¨æ‰‹ï¼šè·³è½¬åˆ°"Hello Worldæ¼”ç»ƒ"
> - å¦‚æœä½ æƒ³å»ºç«‹ç†è®ºåŸºç¡€ï¼šç»§ç»­é˜…è¯»"æ ¸å¿ƒæ¦‚å¿µä½“ç³»"  
> - å¦‚æœä½ æƒ³äº†è§£å…·ä½“å®ç°ï¼šç›´æ¥æŸ¥çœ‹"ç³»ç»Ÿç»„ä»¶æ¢ç´¢"

**å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬æ·±å…¥è¿™ä¸ªç²¾å½©çš„éªŒè¯ä¸–ç•Œï¼** ğŸŒŸ

---

## ğŸ§  ç¬¬äºŒéƒ¨åˆ†ï¼šæ ¸å¿ƒæ¦‚å¿µä½“ç³»

### ğŸ”¬ éªŒè¯å“²å­¦ï¼šStep-and-Compareçš„æ™ºæ…§

#### ä¸ºä»€ä¹ˆéœ€è¦è¿™ç§æ–¹æ³•ï¼Ÿ

æƒ³è±¡ä½ æ˜¯å°å­¦æ•°å­¦è€å¸ˆï¼Œè¦æ£€æŸ¥å­¦ç”Ÿçš„ç®—æœ¯é¢˜æ˜¯å¦åšå¯¹ï¼š

```
ä¼ ç»Ÿæ–¹æ³• âŒï¼š                     Step-and-Compare âœ…ï¼š
åªçœ‹æœ€ç»ˆç­”æ¡ˆ                      é€æ­¥å¯¹æ¯”è®¡ç®—è¿‡ç¨‹
â€¢ 25 Ã— 4 = 100 âœ“               â€¢ 25 Ã— 4:
â€¢ ä½†ä¸çŸ¥é“è¿‡ç¨‹å¯¹ä¸å¯¹               å­¦ç”Ÿ: 25Ã—4 â†’ 100 âœ“  
â€¢ å¯èƒ½æ˜¯è’™å¯¹çš„                   æ ‡å‡†: 25Ã—4 â†’ 100 âœ“
â€¢ éš¾ä»¥å‘ç°æ€ç»´é”™è¯¯               â€¢ æ¯ä¸€æ­¥éƒ½éªŒè¯æ­£ç¡®æ€§
                              â€¢ èƒ½ç²¾ç¡®å®šä½é”™è¯¯ä½ç½®
```

**Step-and-Compareåº”ç”¨åˆ°å¤„ç†å™¨éªŒè¯**ï¼š

```
ğŸ¯ æ¯ä¸ªæ—¶é’Ÿå‘¨æœŸçš„çŠ¶æ€æ¯”è¾ƒï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   RTLå¤„ç†å™¨     â”‚    â”‚   å‚è€ƒæ¨¡å‹      â”‚
â”‚  (è¢«éªŒè¯æ–¹)      â”‚    â”‚  (æ ‡å‡†ç­”æ¡ˆ)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â–¼                       â–¼
    æ‰§è¡ŒæŒ‡ä»¤ADD               æ‰§è¡ŒæŒ‡ä»¤ADD
         â”‚                       â”‚
         â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚å¯„å­˜å™¨x1 = 0x100 â”‚â—„â”€â”€â–ºâ”‚å¯„å­˜å™¨x1 = 0x100 â”‚ âœ…åŒ¹é…
â”‚PC = 0x8004      â”‚â—„â”€â”€â–ºâ”‚PC = 0x8004      â”‚ âœ…åŒ¹é…  
â”‚å†…å­˜[0x200]=0x42 â”‚â—„â”€â”€â–ºâ”‚å†…å­˜[0x200]=0x42 â”‚ âœ…åŒ¹é…
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Step-and-Compareçš„ä¸‰å¤§ä¼˜åŠ¿ï¼š

1. **ğŸ” ç²¾ç¡®å®šä½**ï¼šèƒ½å®šä½åˆ°å…·ä½“å“ªæ¡æŒ‡ä»¤ã€å“ªä¸ªæ—¶é’Ÿå‘¨æœŸå‡ºé”™
2. **ğŸ¯ å…¨é¢è¦†ç›–**ï¼šä¸ä»…æ£€æŸ¥ç»“æœï¼Œè¿˜éªŒè¯ä¸­é—´è¿‡ç¨‹
3. **âš¡ æ—©æœŸå‘ç°**ï¼šé”™è¯¯ä¸€å‡ºç°å°±èƒ½è¢«å‘ç°ï¼Œä¸ä¼šç´¯ç§¯

### ğŸ¤ è½¯ç¡¬ä»¶ååŒï¼šä¸¤ä¸ªä¸–ç•Œçš„æ¡¥æ¢

#### è½¯ä»¶ä¸–ç•Œ vs ç¡¬ä»¶ä¸–ç•Œ

```
è½¯ä»¶ä¸–ç•Œ (Cç¨‹åº)                ç¡¬ä»¶ä¸–ç•Œ (RTL)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”¤ é«˜çº§è¯­è¨€                      ğŸ”Œ ç¡¬ä»¶æè¿°è¯­è¨€
ğŸ“ ç®—æ³•å’Œé€»è¾‘                     âš¡ ç”µè·¯å’Œä¿¡å·
ğŸ•°ï¸  é¡ºåºæ‰§è¡Œ                      â±ï¸  å¹¶è¡Œå¤„ç†
ğŸ› è½¯ä»¶è°ƒè¯•å™¨                     ğŸ” æ³¢å½¢æŸ¥çœ‹å™¨
ğŸ’¾ å˜é‡å’Œå‡½æ•°                     ğŸ“Š å¯„å­˜å™¨å’Œæ¨¡å—
```

#### ååŒå·¥ä½œçš„ç¥å¥‡è¿‡ç¨‹ï¼š

```
ç¬¬1æ­¥ï¼šCç¨‹åºç¼–å†™ ğŸ“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ int main() {                â”‚
â”‚     int a = 5;              â”‚  â† äººç±»å¯è¯»çš„é€»è¾‘
â”‚     int b = 3;              â”‚
â”‚     int c = a + b;          â”‚
â”‚     return c;               â”‚
â”‚ }                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼ RISC-V GCCç¼–è¯‘
ç¬¬2æ­¥ï¼šæœºå™¨ç ç”Ÿæˆ ğŸ”§
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 0x8000: addi x1, x0, 5     â”‚  â† å¤„ç†å™¨èƒ½ç†è§£çš„æŒ‡ä»¤
â”‚ 0x8004: addi x2, x0, 3     â”‚
â”‚ 0x8008: add  x3, x1, x2    â”‚
â”‚ 0x800c: addi a0, x3, 0     â”‚
â”‚ 0x8010: ret                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼ æµ‹è¯•å°åŠ è½½
ç¬¬3æ­¥ï¼šç¡¬ä»¶æ‰§è¡Œ âš¡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CV32E40På¤„ç†å™¨é€æ¡æ‰§è¡Œï¼š      â”‚
â”‚ â€¢ å–æŒ‡ â†’ è¯‘ç  â†’ æ‰§è¡Œ â†’ å†™å›   â”‚  â† ç¡¬ä»¶æµæ°´çº¿å¤„ç†
â”‚ â€¢ å¯„å­˜å™¨çŠ¶æ€å˜åŒ–             â”‚
â”‚ â€¢ å†…å­˜è®¿é—®æ“ä½œ               â”‚
â”‚ â€¢ ç¨‹åºè®¡æ•°å™¨æ›´æ–°             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ”— ååŒçš„å…³é”®è¦ç´ ï¼š

1. **ç»Ÿä¸€çš„æŒ‡ä»¤é›†**ï¼šRISC-Vè§„èŒƒæ˜¯ä¸¤ä¸ªä¸–ç•Œçš„"å…±åŒè¯­è¨€"
2. **ç²¾ç¡®çš„æ—¶åº**ï¼šç¡¬ä»¶å¿…é¡»åœ¨æ­£ç¡®çš„æ—¶é’Ÿå‘¨æœŸäº§ç”Ÿé¢„æœŸç»“æœ  
3. **ä¸€è‡´çš„çŠ¶æ€**ï¼šå¯„å­˜å™¨ã€å†…å­˜ã€æ ‡å¿—ä½å¿…é¡»å®Œå…¨åŒ¹é…

### ğŸ—ï¸ UVMæ¶æ„ç²¾è¦ï¼šæµ‹è¯•å°çš„ç»„ç»‡æ™ºæ…§

#### ä¼ ç»Ÿæµ‹è¯• vs UVMæµ‹è¯•

```
ä¼ ç»Ÿæµ‹è¯•æ–¹å¼ âŒ                    UVMæµ‹è¯•æ–¹å¼ âœ…
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æ‰‹å†™æ¯ä¸ªæµ‹è¯•                      ç»„ä»¶åŒ–å¯é‡ç”¨
ç¡¬ç¼–ç æµ‹è¯•æ¿€åŠ±                    è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ  
éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•                    æ ‡å‡†åŒ–æ¶æ„
ä½ä»£ç å¤ç”¨ç‡                      é«˜åº¦æ¨¡å—åŒ–
è°ƒè¯•å›°éš¾                         å®Œæ•´å·¥å…·æ”¯æŒ
```

#### UVMæµ‹è¯•å°çš„"å¯¼æ¼”åˆ¶"æ¶æ„

æƒ³è±¡UVMæµ‹è¯•å°æ˜¯ä¸€éƒ¨ç”µå½±çš„åˆ¶ä½œå›¢é˜Ÿï¼š

```
                    ğŸ¬ UVMæµ‹è¯•å°æ¶æ„
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                ğŸ¯ Test (å¯¼æ¼”)                    â”‚
    â”‚          ç»Ÿç­¹å…¨å±€ï¼Œå†³å®šæ‹ä»€ä¹ˆæ ·çš„"ç”µå½±"            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              ğŸ  Environment (åˆ¶ç‰‡å‚)            â”‚
    â”‚            æä¾›æ‹æ‘„åœºåœ°å’ŒåŸºç¡€è®¾æ–½                â”‚
    â”‚                                                 â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚ğŸ“¡Agent      â”‚  â”‚ğŸ”Monitor    â”‚  â”‚ğŸ“ŠScoreboardâ”‚ â”‚
    â”‚  â”‚(æ‘„åƒå¸ˆ)      â”‚  â”‚(è®°å½•å‘˜)      â”‚  â”‚ (å‰ªè¾‘å¸ˆ)  â”‚ â”‚
    â”‚  â”‚å‘é€æµ‹è¯•æ•°æ®  â”‚  â”‚ç›‘æ§å“åº”     â”‚  â”‚ æ£€æŸ¥ç»“æœ  â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                ğŸ­ DUT (ä¸»è§’)                    â”‚
    â”‚             CV32E40På¤„ç†å™¨æ ¸å¿ƒ                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ ¸å¿ƒç»„ä»¶èŒè´£åˆ†å·¥ï¼š

1. **ğŸ¯ Test Class (å¯¼æ¼”)**
   - å†³å®šè¿™åœº"æ¼”å‡º"çš„å‰§æœ¬å’Œé£æ ¼
   - é…ç½®ç¯å¢ƒå‚æ•°å’Œæµ‹è¯•ç›®æ ‡
   - æ§åˆ¶æµ‹è¯•çš„å¼€å§‹å’Œç»“æŸ

2. **ğŸ  Environment (åˆ¶ç‰‡å‚)**  
   - æä¾›å®Œæ•´çš„æµ‹è¯•åŸºç¡€è®¾æ–½
   - ç®¡ç†å„ä¸ªåŠŸèƒ½ç»„ä»¶çš„åä½œ
   - å¤„ç†é…ç½®å’Œèµ„æºåˆ†é…

3. **ğŸ“¡ Agent (æ‘„åƒå¸ˆå›¢é˜Ÿ)**
   - å‘DUTå‘é€æµ‹è¯•æ¿€åŠ±(æŒ‡ä»¤å’Œæ•°æ®)
   - åŒ…å«Driver(å‘é€)å’ŒMonitor(ç›‘æ§)
   - å¯ä»¥æœ‰å¤šä¸ªAgentå¤„ç†ä¸åŒæ¥å£

4. **ğŸ“Š Scoreboard (å‰ªè¾‘å¸ˆ)**
   - æ”¶é›†å¹¶æ¯”è¾ƒå„ç§ç»“æœ
   - å®ç°step-and-compareé€»è¾‘  
   - ç”Ÿæˆæœ€ç»ˆçš„æµ‹è¯•æŠ¥å‘Š

### ğŸ”§ å·¥å…·é“¾ç”Ÿæ€ï¼šååŒå·¥ä½œçš„è‰ºæœ¯

#### å®Œæ•´å·¥å…·é“¾çš„æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ğŸ“ Cç¨‹åº  â”‚â”€â”€â”€â–¶â”‚ğŸ”§ GCC   â”‚â”€â”€â”€â–¶â”‚ğŸ“¦ HEX   â”‚â”€â”€â”€â–¶â”‚âš¡ ä»¿çœŸå™¨ â”‚
â”‚hello.c  â”‚    â”‚ç¼–è¯‘å™¨   â”‚    â”‚æœºå™¨ç    â”‚    â”‚Xcelium â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â–¼
â”‚ğŸ“ˆ æŠ¥å‘Š   â”‚â—€â”€â”€â”€â”‚ğŸ¯ UVM   â”‚â—€â”€â”€â”€â”‚ğŸ”Œ RTL   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚coverage â”‚    â”‚æµ‹è¯•å°   â”‚    â”‚å¤„ç†å™¨   â”‚    â”‚ğŸ“Š ç»“æœ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚æ–‡ä»¶     â”‚
                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ¯ä¸ªå·¥å…·çš„ç‹¬ç‰¹ä»·å€¼ï¼š

1. **ğŸ”¨ Makeç³»ç»Ÿ** - æŒ‡æŒ¥å®˜
   ```
   èŒè´£ï¼šç»Ÿä¸€æŒ‡æŒ¥æ‰€æœ‰å·¥å…·çš„åä½œ
   ä»·å€¼ï¼šä¸€æ¡å‘½ä»¤å®Œæˆå¤æ‚çš„æ„å»ºæµç¨‹
   æ™ºæ…§ï¼šä¾èµ–å…³ç³»ç®¡ç†ï¼Œåªé‡æ–°æ„å»ºå˜åŒ–éƒ¨åˆ†
   ```

2. **âš™ï¸ RISC-V GCC** - ç¿»è¯‘å®˜  
   ```
   èŒè´£ï¼šå°†Cä»£ç ç¿»è¯‘ä¸ºRISC-Væœºå™¨ç 
   ä»·å€¼ï¼šæ¶ˆé™¤è½¯ç¡¬ä»¶ä¹‹é—´çš„è¯­è¨€éšœç¢
   æ™ºæ…§ï¼šä¼˜åŒ–ç¼–è¯‘ï¼Œç”Ÿæˆé«˜æ•ˆçš„ç›®æ ‡ä»£ç 
   ```

3. **âš¡ Cadence Xcelium** - å®éªŒå®¤
   ```
   èŒè´£ï¼šæ‰§è¡ŒSystemVerilogä»¿çœŸ
   ä»·å€¼ï¼šæä¾›ç²¾ç¡®çš„ç¡¬ä»¶è¡Œä¸ºæ¨¡æ‹Ÿ
   æ™ºæ…§ï¼šé«˜æ€§èƒ½å¹¶è¡Œä»¿çœŸå’Œå®Œæ•´è°ƒè¯•æ”¯æŒ
   ```

4. **ğŸ¯ OVPæ¨¡å‹** - æ ‡å‡†ç­”æ¡ˆ
   ```
   èŒè´£ï¼šæä¾›å¤„ç†å™¨è¡Œä¸ºçš„é‡‘æ ‡å‡†å‚è€ƒ
   ä»·å€¼ï¼šç¡®ä¿éªŒè¯ç»“æœçš„å¯ä¿¡åº¦
   æ™ºæ…§ï¼šé«˜é€Ÿè½¯ä»¶ä»¿çœŸï¼Œæ”¯æŒè¯¦ç»†è·Ÿè¸ª
   ```

### ğŸ§© æ ¸å¿ƒæ¦‚å¿µå…³ç³»å›¾

```
                    éªŒè¯çŸ¥è¯†ä½“ç³»
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
    ğŸ”¬ éªŒè¯å“²å­¦        ğŸ¤ è½¯ç¡¬ååŒ        ğŸ—ï¸ æ¶æ„è®¾è®¡
        â”‚                â”‚                â”‚
        â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Step-Compare   â”‚ â”‚æŒ‡ä»¤é›†è§„èŒƒ     â”‚ â”‚UVMç»„ä»¶æ¶æ„  â”‚
â”‚é€æ­¥çŠ¶æ€æ¯”è¾ƒ   â”‚ â”‚è½¯ç¡¬ä»¶æ¡¥æ¢     â”‚ â”‚æ ‡å‡†åŒ–æµ‹è¯•å° â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                â”‚                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â–¼
                  ğŸ”§ å·¥å…·é“¾æ”¯æ’‘
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚â€¢ Makeé¡¹ç›®ç®¡ç†   â”‚
               â”‚â€¢ GCCä»£ç ç¼–è¯‘    â”‚
               â”‚â€¢ Xceliumä»¿çœŸ    â”‚
               â”‚â€¢ OVPå‚è€ƒæ¨¡å‹    â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“ æ¦‚å¿µç†è§£è‡ªæ£€

å®Œæˆè¿™ä¸€éƒ¨åˆ†å­¦ä¹ åï¼Œä½ åº”è¯¥èƒ½å›ç­”ï¼š

**åŸºç¡€ç†è§£** âœ…ï¼š
- [ ] èƒ½ç”¨è‡ªå·±çš„è¯è§£é‡ŠStep-and-Compareæ–¹æ³•
- [ ] ç†è§£è½¯ä»¶ç¨‹åºå¦‚ä½•åœ¨ç¡¬ä»¶ä¸Šæ‰§è¡Œ  
- [ ] äº†è§£UVMæµ‹è¯•å°çš„åŸºæœ¬ç»„ä»¶åŠä½œç”¨
- [ ] è®¤è¯†å„ä¸ªå·¥å…·åœ¨éªŒè¯æµç¨‹ä¸­çš„ä½ç½®

**æ·±åº¦ç†è§£** ğŸ”¥ï¼š
- [ ] èƒ½è®¾è®¡ä¸€ä¸ªç®€å•çš„éªŒè¯åœºæ™¯
- [ ] ç†è§£ä¸ºä»€ä¹ˆéœ€è¦å‚è€ƒæ¨¡å‹
- [ ] æŒæ¡UVMç»„ä»¶ä¹‹é—´çš„åä½œå…³ç³»
- [ ] æ˜ç™½å·¥å…·é“¾ä¸­æ¯ä¸€ç¯çš„ä»·å€¼

---

> ğŸ’¡ **å‡†å¤‡è¿›å…¥å®æˆ˜ï¼Ÿ** 
> ç°åœ¨ä½ å·²ç»å»ºç«‹äº†åšå®çš„æ¦‚å¿µåŸºç¡€ï¼Œæ˜¯æ—¶å€™é€šè¿‡Hello Worldæ¥å®é™…ä½“éªŒè¿™äº›æ¦‚å¿µå¦‚ä½•åœ¨çœŸå®é¡¹ç›®ä¸­å‘æŒ¥ä½œç”¨äº†ï¼

---

## ğŸ¬ ç¬¬ä¸‰éƒ¨åˆ†ï¼šHello Worldæ·±åº¦æ¼”ç»ƒ

### âš¡ 5åˆ†é’Ÿå¿«é€Ÿä½“éªŒï¼šç¬¬ä¸€æ¬¡æ¥è§¦

#### å¼€å§‹ä¹‹å‰çš„å‡†å¤‡æ£€æŸ¥

```bash
# ğŸ” ç¯å¢ƒè‡ªæ£€è„šæœ¬ (å¤åˆ¶ç²˜è´´å³å¯è¿è¡Œ)
echo "=== CV32E40Pç¯å¢ƒæ£€æŸ¥ ==="
echo "1. æ£€æŸ¥æ ¸å¿ƒç¯å¢ƒå˜é‡ï¼š"
echo "   CV_SIMULATOR: ${CV_SIMULATOR:-âŒæœªè®¾ç½®}"  
echo "   CV_CORE: ${CV_CORE:-âŒæœªè®¾ç½®}"
echo "   CV_SW_TOOLCHAIN: ${CV_SW_TOOLCHAIN:-âŒæœªè®¾ç½®}"
echo ""

echo "2. æ£€æŸ¥å…³é”®å·¥å…·ï¼š"
which xrun >/dev/null 2>&1 && echo "   âœ… Xceliumä»¿çœŸå™¨å·²æ‰¾åˆ°" || echo "   âŒ Xceliumä»¿çœŸå™¨æœªæ‰¾åˆ°"
which riscv32-unknown-elf-gcc >/dev/null 2>&1 && echo "   âœ… RISC-Vç¼–è¯‘å™¨å·²æ‰¾åˆ°" || echo "   âŒ RISC-Vç¼–è¯‘å™¨æœªæ‰¾åˆ°"
echo ""

echo "3. æ£€æŸ¥é¡¹ç›®ç›®å½•ï¼š"
ls cv32e40p/sim/uvmt/Makefile >/dev/null 2>&1 && echo "   âœ… é¡¹ç›®Makefileå­˜åœ¨" || echo "   âŒ é¡¹ç›®Makefileä¸å­˜åœ¨"
ls cv32e40p/tests/programs/custom/hello-world/ >/dev/null 2>&1 && echo "   âœ… hello-worldæµ‹è¯•å­˜åœ¨" || echo "   âŒ hello-worldæµ‹è¯•ä¸å­˜åœ¨"
```

#### ğŸš€ ç¬¬ä¸€æ¬¡è¿è¡Œï¼šè§è¯å¥‡è¿¹

```bash
# è¿›å…¥æµ‹è¯•ç›®å½•
cd cv32e40p/sim/uvmt

# ğŸ¯ é­”æ³•å‘½ä»¤ï¼šä¸€é”®è¿è¡Œhello-world
make test TEST=hello-world

# æœŸå¾…çœ‹åˆ°çš„æˆåŠŸæ ‡å¿—ï¼š
# âœ… UVM_INFO: TEST PASSED
# âœ… Simulation PASSED  
# âœ… é€€å‡ºç ä¸º0
```

**ä½ å°†çœ‹åˆ°ä»€ä¹ˆ**ï¼š
```
=== å…¸å‹æˆåŠŸè¾“å‡ºç¤ºä¾‹ ===
ğŸ”¥ ç¼–è¯‘é˜¶æ®µ (çº¦30-60ç§’):
    * Compiling xrun in xrun_results/default
    * Loading RTL files...
    * Compiling UVM testbench...
    * Elaboration completed

ğŸ“¦ ç¨‹åºæ„å»º (çº¦10-20ç§’):
    * Compiling hello-world.c
    * Generating hello-world.hex
    * Creating memory image

âš¡ ä»¿çœŸè¿è¡Œ (çº¦20-40ç§’):
    UVM_INFO: Running test uvmt_cv32e40p_firmware_test_c
    UVM_INFO: Loading firmware: hello-world.hex  
    UVM_INFO: Program execution started
    UVM_INFO: Hello World! printed to virtual console
    UVM_INFO: Program completed with exit code 0
    UVM_INFO: TEST PASSED âœ…
```

#### ğŸ” å¿«é€Ÿç»“æœåˆ†æ

```bash
# æŸ¥çœ‹å…³é”®è¾“å‡ºæ–‡ä»¶
ls xrun_results/default/hello-world/0/

# ä½ ä¼šå‘ç°ï¼š
test_program/           # ç¼–è¯‘å¥½çš„ç¨‹åºæ–‡ä»¶
â””â”€â”€ hello-world.elf     # å¯æ‰§è¡Œæ–‡ä»¶
â””â”€â”€ hello-world.hex     # å†…å­˜æ˜ åƒ
â””â”€â”€ hello-world.nm      # ç¬¦å·è¡¨
xrun-hello-world.log    # ä»¿çœŸæ—¥å¿—
```

### ğŸ“Š 15åˆ†é’Ÿæµç¨‹è§£æï¼šæ¯ä¸€æ­¥éƒ½åœ¨åšä»€ä¹ˆ

#### é˜¶æ®µ1ï¼šğŸ—ï¸ æ„å»ºé˜¶æ®µ (Makeç³»ç»ŸæŒ‡æŒ¥)

```
make test TEST=hello-world
         â”‚
         â–¼
     ğŸ§­ Makefileè§£æ
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚ç¡®å®šä¾èµ–é¡¹â”‚
    â”‚comp     â”‚ â—„â”€â”€â”€â”€ éœ€è¦ç¼–è¯‘æµ‹è¯•å°
    â”‚hex      â”‚ â—„â”€â”€â”€â”€ éœ€è¦ç¼–è¯‘æµ‹è¯•ç¨‹åº  
    â”‚gen_ovpsimâ”‚ â—„â”€â”€â”€â”€ éœ€è¦é…ç½®å‚è€ƒæ¨¡å‹
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    ğŸ“‹ å¼€å§‹æŒ‰é¡ºåºæ‰§è¡Œä¾èµ–é¡¹...
```

**æ·±å…¥ç†è§£Makeçš„æ™ºæ…§**ï¼š
```makefile
# Makeç³»ç»Ÿå¦‚ä½•å†³å®šè¦åšä»€ä¹ˆï¼š
test: $(XRUN_SIM_PREREQ) hex gen_ovpsim_ic
# ç¿»è¯‘ï¼šè¦è¿è¡Œtestï¼Œé¦–å…ˆç¡®ä¿compã€hexã€gen_ovpsim_icéƒ½å®Œæˆ

# ä¾èµ–å…³ç³»å†³ç­–è¿‡ç¨‹ï¼š
comp: mk_xrun_dir $(CV_CORE_PKG) $(SVLIB_PKG)  
# ç¿»è¯‘ï¼šè¦ç¼–è¯‘ï¼Œå…ˆç¡®ä¿ç›®å½•å­˜åœ¨ã€RTLä»£ç å­˜åœ¨ã€åº“æ–‡ä»¶å­˜åœ¨

hex: $(SIM_TEST_PROGRAM_RESULTS)/hello-world.hex
# ç¿»è¯‘ï¼šè¦ç”Ÿæˆhexï¼Œéœ€è¦å…ˆç¼–è¯‘Cç¨‹åº
```

#### é˜¶æ®µ2ï¼šğŸ”§ ç¼–è¯‘é˜¶æ®µ (å¤šå·¥å…·åä½œ)

```
å¹¶è¡Œå·¥ä½œæµç¨‹ï¼š

ğŸ­ SystemVerilogç¼–è¯‘          ğŸ“¦ Cç¨‹åºç¼–è¯‘
    â”‚                           â”‚
    â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚xrunç¼–è¯‘RTL  â”‚              â”‚gccç¼–è¯‘Cä»£ç  â”‚
â”‚â€¢ CV32E40Pæ ¸å¿ƒâ”‚              â”‚hello-world.câ”‚
â”‚â€¢ UVMæµ‹è¯•å°  â”‚              â”‚     â”‚       â”‚
â”‚â€¢ æ¥å£æ¨¡å—   â”‚              â”‚     â–¼       â”‚
â”‚â€¢ ç›‘æ§ç»„ä»¶   â”‚              â”‚  .elfæ–‡ä»¶   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚     â”‚       â”‚
                             â”‚     â–¼       â”‚
                             â”‚objcopyè½¬æ¢  â”‚
                             â”‚  .hexæ–‡ä»¶   â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¯¦ç»†ç¼–è¯‘è¿‡ç¨‹**ï¼š

1. **SystemVerilogä¸–ç•Œ** ğŸ”Œ
```bash
# Xceliumæ‰§è¡Œçš„å®é™…å‘½ä»¤ç±»ä¼¼äºï¼š
xrun -64bit -sv -uvm \
     -f cv32e40p/rtl/core-v-verif.flist \      # RTLæ–‡ä»¶åˆ—è¡¨
     -f cv32e40p/tb/uvmt/uvmt_cv32e40p.flist \ # æµ‹è¯•å°æ–‡ä»¶åˆ—è¡¨  
     +define+NO_PULP \                         # ç¼–è¯‘æ—¶å®šä¹‰
     -top uvmt_cv32e40p_tb \                   # é¡¶å±‚æ¨¡å—
     -elaborate                                # å»ºç«‹å±‚æ¬¡ç»“æ„
```

2. **Cç¨‹åºä¸–ç•Œ** ğŸ’»
```bash  
# RISC-V GCCæ‰§è¡Œçš„å®é™…å‘½ä»¤ï¼š
riscv32-unknown-elf-gcc \
    -march=rv32imc \           # ç›®æ ‡æ¶æ„ï¼š32ä½RISC-V + å‹ç¼©æŒ‡ä»¤
    -mabi=ilp32 \              # ABIï¼šæ•´æ•°å’ŒæŒ‡é’ˆéƒ½æ˜¯32ä½
    -DNO_PULP \                # ç¦ç”¨PULPæ‰©å±•
    -T bsp/link.ld \           # é“¾æ¥è„šæœ¬ï¼šå®šä¹‰å†…å­˜å¸ƒå±€
    -o hello-world.elf \       # è¾“å‡ºELFæ–‡ä»¶
    hello-world.c              # æºæ–‡ä»¶
```

#### é˜¶æ®µ3ï¼šâš¡ ä»¿çœŸå¯åŠ¨ (UVMæ¥ç®¡æ§åˆ¶)

```
ä»¿çœŸå¯åŠ¨åºåˆ—ï¼š

1ï¸âƒ£ Xceliumå¯åŠ¨
    â”‚
    â–¼ åŠ è½½ç¼–è¯‘å¥½çš„ä»¿çœŸæ¨¡å‹
2ï¸âƒ£ SystemVerilogé™æ€åˆå§‹åŒ–  
    â”‚
    â–¼ è¿æ¥æ‰€æœ‰æ¥å£
3ï¸âƒ£ UVMåŠ¨æ€åˆ›å»º
    â”‚  
    â–¼ åˆ›å»ºæµ‹è¯•ç¯å¢ƒ
4ï¸âƒ£ æµ‹è¯•å¼€å§‹æ‰§è¡Œ
    â”‚
    â–¼ åŠ è½½ç¨‹åºåˆ°å†…å­˜
5ï¸âƒ£ å¤„ç†å™¨å¯åŠ¨
    â”‚
    â–¼ å¼€å§‹æ‰§è¡ŒæŒ‡ä»¤
6ï¸âƒ£ å®æ—¶æ¯”è¾ƒéªŒè¯
```

**UVMå¯åŠ¨çš„å…³é”®æ­¥éª¤**ï¼š

```systemverilog
// SystemVerilog testbenchåˆå§‹åŒ–
initial begin
    // ğŸ¯ å¯åŠ¨UVMæµ‹è¯• (æ ¹æ®+UVM_TESTNAMEå‚æ•°)
    run_test("uvmt_cv32e40p_firmware_test_c");
end

// UVMæµ‹è¯•ç±»çš„ç”Ÿå‘½å‘¨æœŸï¼š
class uvmt_cv32e40p_firmware_test_c extends uvmt_cv32e40p_base_test_c;
    
    virtual function void build_phase(uvm_phase phase);
        super.build_phase(phase);
        // ğŸ—ï¸ æ„å»ºæµ‹è¯•ç¯å¢ƒ
        env = uvmt_cv32e40p_env_c::type_id::create("env", this);
    endfunction
    
    virtual task run_phase(uvm_phase phase);
        phase.raise_objection(this);
        
        // ğŸ“¦ åŠ è½½ç¨‹åºåˆ°å†…å­˜
        load_program_to_memory();
        
        // ğŸš€ å¯åŠ¨å¤„ç†å™¨  
        start_processor();
        
        // â³ ç­‰å¾…æ‰§è¡Œå®Œæˆ
        wait_for_completion();
        
        phase.drop_objection(this);
    endtask
endclass
```

### ğŸ”¬ 30åˆ†é’Ÿæ·±å…¥æœºåˆ¶ï¼šä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡

#### ğŸ§© Step-and-Compareçš„å®é™…å·¥ä½œ

```
æ¯ä¸ªæ—¶é’Ÿå‘¨æœŸçš„æ¯”è¾ƒè¿‡ç¨‹ï¼š

æ—¶é’Ÿå‘¨æœŸ N:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   RTLæ ¸å¿ƒ       â”‚    â”‚   OVPæ¨¡å‹       â”‚  
â”‚                 â”‚    â”‚                 â”‚
â”‚ PC: 0x8000      â”‚    â”‚ PC: 0x8000      â”‚ â—„â”€â”
â”‚ æŒ‡ä»¤: addi x1,x0,5â”‚   â”‚ æŒ‡ä»¤: addi x1,x0,5â”‚   â”‚ ğŸ“Š æ¯”è¾ƒå™¨æ£€æŸ¥
â”‚ x1: 0 â†’ 5       â”‚    â”‚ x1: 0 â†’ 5       â”‚ â—„â”€â”˜ 
â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â–¼                       â–¼
    âœ… çŠ¶æ€ä¸€è‡´ï¼Œç»§ç»­ä¸‹ä¸€ä¸ªå‘¨æœŸ

æ—¶é’Ÿå‘¨æœŸ N+1:  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PC: 0x8004      â”‚    â”‚ PC: 0x8004      â”‚ â—„â”€ âœ… ç»§ç»­åŒ¹é…
â”‚ æŒ‡ä»¤: addi x2,x0,3â”‚   â”‚ æŒ‡ä»¤: addi x2,x0,3â”‚
â”‚ x2: 0 â†’ 3       â”‚    â”‚ x2: 0 â†’ 3       â”‚ â—„â”€ âœ… çŠ¶æ€åŒæ­¥
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ¯”è¾ƒçš„æŠ€æœ¯å®ç°**ï¼š
```systemverilog
// å®é™…çš„step-and-compareé€»è¾‘
always_ff @(posedge clk) begin
    if (dut.instruction_retired) begin  // RTLæ‰§è¡Œå®Œä¸€æ¡æŒ‡ä»¤
        
        // ğŸ¯ è®©å‚è€ƒæ¨¡å‹ä¹Ÿæ‰§è¡Œç›¸åŒæŒ‡ä»¤
        iss_model.step();
        
        // ğŸ” æ¯”è¾ƒå…³é”®çŠ¶æ€
        if (dut.pc !== iss_model.pc) begin
            `uvm_error("STEP_COMPARE", $sformatf(
                "PC mismatch: RTL=%h, ISS=%h", dut.pc, iss_model.pc))
        end
        
        // ğŸ” æ¯”è¾ƒå¯„å­˜å™¨æ–‡ä»¶
        for (int i = 0; i < 32; i++) begin
            if (dut.regfile[i] !== iss_model.regfile[i]) begin
                `uvm_error("STEP_COMPARE", $sformatf(
                    "Register x%0d mismatch: RTL=%h, ISS=%h", 
                    i, dut.regfile[i], iss_model.regfile[i]))
            end
        end
    end
end
```

#### ğŸ­ UVMç»„ä»¶çš„å®é™…åä½œ

```
çœŸå®çš„ç»„ä»¶äº¤äº’æ—¶åºï¼š

T=0: ğŸ¬ æµ‹è¯•å¼€å§‹
     â”‚
     â–¼
T=1: ğŸ  ç¯å¢ƒåˆ›å»º
     â”œâ”€â”€ åˆ›å»ºå†…å­˜Agent
     â”œâ”€â”€ åˆ›å»ºè°ƒè¯•Agent  
     â”œâ”€â”€ åˆ›å»ºç›‘æ§ç»„ä»¶
     â””â”€â”€ å»ºç«‹è¿æ¥
     â”‚
     â–¼
T=2: ğŸ“¦ ç¨‹åºåŠ è½½
     â”œâ”€â”€ Memory Agentè¯»å–.hexæ–‡ä»¶
     â”œâ”€â”€ é€šè¿‡OBIæ€»çº¿å†™å…¥å†…å­˜
     â””â”€â”€ è®¾ç½®ç¨‹åºå…¥å£åœ°å€
     â”‚
     â–¼  
T=3: ğŸš€ å¤„ç†å™¨å¯åŠ¨
     â”œâ”€â”€ é‡Šæ”¾å¤ä½ä¿¡å·
     â”œâ”€â”€ è®¾ç½®å¯åŠ¨åœ°å€
     â””â”€â”€ å¼€å§‹å–æŒ‡æ‰§è¡Œ
     â”‚
     â–¼
T=4-N: ğŸ” æ‰§è¡Œç›‘æ§
       â”œâ”€â”€ æŒ‡ä»¤Monitorè®°å½•æ¯æ¡æŒ‡ä»¤
       â”œâ”€â”€ å†…å­˜Monitorç›‘æ§è®¿é—®
       â”œâ”€â”€ Step-Compareå®æ—¶éªŒè¯
       â””â”€â”€ é”™è¯¯æ£€æµ‹å’ŒæŠ¥å‘Š
       â”‚
       â–¼
T=N: ğŸ æµ‹è¯•ç»“æŸ
     â”œâ”€â”€ æ£€æŸ¥é€€å‡ºçŠ¶æ€
     â”œâ”€â”€ ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
     â””â”€â”€ è¾“å‡ºæµ‹è¯•ç»“æœ
```

### ğŸ¯ å®æˆ˜ç»ƒä¹ ï¼šä¿®æ”¹å‚æ•°è§‚å¯Ÿå˜åŒ–

#### ç»ƒä¹ 1ï¼šè§‚å¯Ÿä¸åŒé…ç½®çš„å½±å“

```bash
# ğŸ”¬ å®éªŒ1ï¼šä½¿ç”¨ä¸åŒé…ç½®è¿è¡Œ
make test TEST=hello-world CFG=default
make test TEST=hello-world CFG=pulp

# è§‚å¯ŸåŒºåˆ«ï¼š
# defaulté…ç½®ï¼šç¦ç”¨PULPæ‰©å±•ï¼Œæ ‡å‡†RISC-V
# pulpé…ç½®ï¼šå¯ç”¨PULPæ‰©å±•ï¼Œæ›´å¤šæŒ‡ä»¤æ”¯æŒ
```

#### ç»ƒä¹ 2ï¼šå¯ç”¨è°ƒè¯•åŠŸèƒ½

```bash  
# ğŸ” å®éªŒ2ï¼šç”Ÿæˆæ³¢å½¢è¿›è¡Œåˆ†æ
make test TEST=hello-world WAVES=1

# æŸ¥çœ‹æ³¢å½¢ï¼š
make waves TEST=hello-world

# è§‚å¯Ÿè¦ç‚¹ï¼š
# â€¢ æ—¶é’Ÿä¿¡å·çš„èŠ‚æ‹  
# â€¢ æŒ‡ä»¤æ‰§è¡Œçš„æµæ°´çº¿
# â€¢ å¯„å­˜å™¨æ•°å€¼çš„å˜åŒ–
# â€¢ å†…å­˜è®¿é—®çš„æ—¶åº
```

#### ç»ƒä¹ 3ï¼šä¿®æ”¹æµ‹è¯•ç¨‹åº

```c
// ğŸ“ åˆ›å»ºè‡ªå®šä¹‰æµ‹è¯•ï¼šcv32e40p/tests/programs/custom/my-test/my-test.c
#include <stdio.h>

int main() {
    int sum = 0;
    
    // ç®€å•å¾ªç¯ï¼šæµ‹è¯•åˆ†æ”¯å’Œå¾ªç¯é€»è¾‘
    for (int i = 1; i <= 10; i++) {
        sum += i;
    }
    
    printf("Sum 1-10 = %d\n", sum);  // åº”è¯¥è¾“å‡º55
    
    // æµ‹è¯•æ¡ä»¶åˆ†æ”¯
    if (sum == 55) {
        printf("Test PASSED!\n");
        return 0;  // æˆåŠŸé€€å‡º
    } else {
        printf("Test FAILED!\n");  
        return 1;  // å¤±è´¥é€€å‡º
    }
}
```

```yaml
# ğŸ“ åˆ›å»ºæµ‹è¯•é…ç½®ï¼šcv32e40p/tests/programs/custom/my-test/test.yaml
name: my-test
uvm_test: uvmt_cv32e40p_firmware_test_c
description: >
    Custom test with loop and branch logic
```

```bash
# ğŸš€ è¿è¡Œä½ çš„è‡ªå®šä¹‰æµ‹è¯•
make test TEST=my-test
```

---

> ğŸ’¡ **æ­å–œï¼** 
> é€šè¿‡Hello Worldçš„æ·±åº¦æ¼”ç»ƒï¼Œä½ å·²ç»äº²èº«ä½“éªŒäº†æ•´ä¸ªéªŒè¯æµç¨‹çš„æ¯ä¸€ä¸ªç¯èŠ‚ã€‚ç°åœ¨ä½ å…·å¤‡äº†ç†è§£æ›´å¤æ‚æµ‹è¯•å’Œæ·±å…¥æ¢ç´¢ç³»ç»Ÿç»„ä»¶çš„åŸºç¡€ï¼