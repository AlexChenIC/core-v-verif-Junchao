# CV32E40P 验证计划 (验证策略文档)

这是 CV32E40P 验证计划（又称测试计划）的根目录。每个子目录都是同名的特定 CV32E40P 高级功能的验证计划。

使用提供的 CORE-V_Simulation VerifPlan_Template.xlsx 电子表格作为模板来制定验证计划。

## 📊 验证计划状态

下表记录了 CV32E40P 按高级功能分类的验证计划当前状态。在 `Review`（审查）标题下是以下之一：

### 🔄 审查状态说明

- **Ready for Review（待审查）**：验证计划已制定并等待审查
- **Reviewed（已审查）**：验证计划已审查，正在等待更新以解决审查反馈
- **Waiting for Signoff（等待签署）**：验证计划已审查，审查意见已由作者处理。文档现在等待审查者对审查后更新进行签署
- **Complete（完成）**：审查后更新已签署

## 🎯 功能验证状态详表

### 💻 基础指令集加标准指令扩展

_请参阅 VerifPlans/ISA/RV32/Simulation 目录了解每个支持扩展的具体验证计划状态。_

**涵盖内容：**
- RV32I 基础整数指令集
- RV32M 乘法除法扩展
- RV32C 压缩指令扩展
- RV32F 单精度浮点扩展（如适用）

### ⚡ 中断处理

| 功能 | 制定状态 | 审查状态 | 备注 |
|------|----------|----------|------|
| **CLINT** | 已制定 | **完成** | 核心本地中断器完整验证 |
| **CLIC** | - | - | 非 CV32E40P 功能 |

**CLINT 验证要点：**
- 机器模式定时器中断
- 机器模式软件中断
- 中断优先级处理
- 中断嵌套行为

### 🐛 调试与跟踪

| 功能 | 制定状态 | 审查状态 | 备注 |
|------|----------|----------|------|
| **Debug** | 已制定 | **完成** | 完整调试功能验证 |
| **Trigger module** | 已制定 | **完成** | 非 CV32E40P 功能 |
| **Tracer** | 不适用 | 不适用 | 行为模型，非 RTL |

**调试功能验证要点：**
- 断点设置和触发
- 单步执行
- 寄存器访问
- 内存访问
- 调试模式进入/退出

### 🔐 特权规范

| 功能 | 制定状态 | 审查状态 | 备注 |
|------|----------|----------|------|
| **CSRs** | 未完成 | - | 控制状态寄存器验证 |
| **User mode** | 不适用 | 不适用 | 非 CV32E40P 功能 |
| **PMP** | 不适用 | 不适用 | 非 CV32E40P 功能 |

**CSR 验证范围：**
- 机器模式 CSR
- 性能计数器
- 中断控制寄存器
- 调试相关寄存器

### 🏗️ 微架构

| 功能 | 制定状态 | 审查状态 | 备注 |
|------|----------|----------|------|
| **OBI** | 完成 | 已审查 | 开放总线接口验证 |
| **Sleep Unit** | 完成 | 已审查 | 基于审查反馈的更新待定 |
| **Pipelines** | 完成 | 已审查 | 基于审查反馈的更新待定 |

**微架构验证要点：**
- **OBI 接口**：内存访问协议验证
- **睡眠单元**：电源管理功能
- **流水线**：指令执行流水线行为

### 🚀 Xpulp 指令扩展

**注意**：Xpulp 指令在 CV32E40P 中"已演练但未完全验证"。

| 功能 | 制定状态 | 审查状态 | 备注 |
|------|----------|----------|------|
| **Post-increment load/store** | 初步草案 | - | 后增量加载/存储指令 |
| **Hardware Loop** | 初步草案 | - | 正在与 Cores TWG 持续讨论 |
| **Bit Manipulation** | 初步草案 | - | 位操作指令 |
| **General ALU** | 初步草案 | - | 通用 ALU 扩展 |
| **Immediate branching** | 初步草案 | - | 立即分支指令 |
| **SIMD** | 初步草案 | - | 单指令多数据指令 |

**Xpulp 指令特点：**
- 为高性能计算优化
- 特殊的 DSP 类型操作
- 循环加速指令
- 专用位操作

### 🔧 自定义电路

| 功能 | 制定状态 | 审查状态 | 备注 |
|------|----------|----------|------|
| **RI5CY performance counters** | - | - | 非 CV32E40P 功能 |
| **Advanced Processing Unit itf** | - | - | 非 CV32E40P 功能 |
| **128-bit wide Instruction Bus itf** | - | - | 非 CV32E40P 功能 |
| **RI5CY interrupt scheme** | - | - | 非 CV32E40P 功能 |
| **PULP cluster itf** | - | - | 非 CV32E40P 功能 |

## 📋 验证计划开发流程

### 1. 📝 制定阶段
- 使用提供的 Excel 模板
- 定义验证目标和范围
- 制定测试策略和方法
- 规划覆盖率模型

### 2. 👀 审查阶段
- 技术审查验证计划
- 评估验证覆盖度
- 检查可行性和资源需求
- 提供改进建议

### 3. ✅ 签署阶段
- 处理审查反馈
- 更新验证计划
- 获得最终批准
- 正式开始执行

### 4. 🔄 执行阶段
- 按计划实施验证
- 跟踪进度和覆盖率
- 定期更新状态
- 处理发现的问题

## 🎯 验证优先级指南

### 🔴 高优先级（必须完成）
- 基础指令集验证
- 中断处理功能
- 调试功能
- 微架构核心功能

### 🟡 中优先级（重要功能）
- CSR 完整验证
- OBI 接口优化
- 睡眠单元功能

### 🟢 低优先级（增强功能）
- Xpulp 扩展指令
- 高级性能特性
- 专用接口功能

## 🔗 相关资源

### 📚 模板和工具
- **验证计划模板**：CORE-V_Simulation VerifPlan_Template.xlsx
- **审查检查单**：验证计划审查标准
- **状态跟踪工具**：进度监控模板

### 📖 参考文档
- **[RISC-V 指令集手册](https://riscv.org/specifications/)**
- **[CV32E40P 用户手册](https://docs.openhwgroup.org/projects/cv32e40p-user-manual/)**
- **[验证策略总体规划](https://docs.openhwgroup.org/projects/core-v-verif/)**

### 🛠️ 验证环境
- **[测试平台指南](../../tb/README_ZH.md)** - 测试平台架构
- **[仿真环境](../../sim/README_ZH.md)** - 仿真设置
- **[学习中心](../learning-center/README.md)** - 完整学习资源

## 💡 最佳实践建议

### 验证计划制定
1. **明确目标**：清晰定义验证范围和成功标准
2. **可测量性**：确保验证目标可量化和可验证
3. **可执行性**：考虑资源和时间限制
4. **可追溯性**：建立需求到测试的追溯关系

### 审查过程
1. **多角度审查**：技术、流程、资源多维度评估
2. **建设性反馈**：提供具体、可操作的改进建议
3. **及时响应**：快速处理审查反馈
4. **文档化**：记录所有审查决定和理由

---

*📝 本文档是 README.md 的中文翻译版本，详细说明了 CV32E40P 验证计划的现状和管理流程。*